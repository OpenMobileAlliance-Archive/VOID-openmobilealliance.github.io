{"input":{"cteatedAt":"2021-02-18T12:42:29.874Z","url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/","host":"www.openmobilealliance.org"},"result":{"data":[{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-ERELD-ParlayREST-V2_0-20110111-C.pdf","file":"OMA-ERELD-ParlayREST-V2_0-20110111-C.pdf","status":"Candidate","version":"V2.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"The scope of this document is limited to the Enabler Release Definition of RESTful bindings for Parlay X Web Services (ParlayREST) version 2_0 according to OMA Release process and the Enabler Release specification baseline listed in section 5."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-ERP-ParlayREST-V2_0-20110111-C.zip","file":"OMA-ERP-ParlayREST-V2_0-20110111-C.zip","status":"Candidate","version":"V2.0","date":"2011-01-11","contentMediaType":"application/zip"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_addresslistmgt-V1_0-20110111-C.xsd","file":"OMA-SUP-XSD_rest_addresslistmgt-V1_0-20110111-C.xsd","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_audiocall-V1_0-20110111-C.xsd","file":"OMA-SUP-XSD_rest_audiocall-V1_0-20110111-C.xsd","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_callnotification-V1_0-20110111-C.xsd","file":"OMA-SUP-XSD_rest_callnotification-V1_0-20110111-C.xsd","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_common-V1_1-20110111-C.xsd","file":"OMA-SUP-XSD_rest_common-V1_1-20110111-C.xsd","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_devicecapabilities-V1_0-20110111-C.xsd","file":"OMA-SUP-XSD_rest_devicecapabilities-V1_0-20110111-C.xsd","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_messaging-V1_1-20110111-C.xsd","file":"OMA-SUP-XSD_rest_messaging-V1_1-20110111-C.xsd","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_payment-V1_1-20110111-C.xsd","file":"OMA-SUP-XSD_rest_payment-V1_1-20110111-C.xsd","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_presence-V1_0-20110111-C.xsd","file":"OMA-SUP-XSD_rest_presence-V1_0-20110111-C.xsd","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_sms-V1_1-20110111-C.xsd","file":"OMA-SUP-XSD_rest_sms-V1_1-20110111-C.xsd","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_terminallocation-V1_1-20110111-C.xsd","file":"OMA-SUP-XSD_rest_terminallocation-V1_1-20110111-C.xsd","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_terminalstatus-V1_0-20110111-C.xsd","file":"OMA-SUP-XSD_rest_terminalstatus-V1_0-20110111-C.xsd","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-SUP-XSD_rest_thirdpartycall-V1_0-20110111-C.xsd","file":"OMA-SUP-XSD_rest_thirdpartycall-V1_0-20110111-C.xsd","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_AddressListManagement-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_AddressListManagement-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Address List Management API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-13]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_AudioCall-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_AudioCall-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Audio Call API using an HTTP protocol binding, based on the similar API  defined in [3GPP 29.199-11]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_CallNotification-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_CallNotification-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Call Notification API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-03]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_Common-V1_1-20110111-C.pdf","file":"OMA-TS-ParlayREST_Common-V1_1-20110111-C.pdf","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/pdf","description":"The scope of this specification is to specify an HTTP protocol binding for the set of Parlay X Web Services specifications in OMA, using REST architectural style.The specification defines an HTTP protocol binding for an abstract API, based on existing OMA enablers. The material in this TS is specific to the ParlayREST enabler."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_DeviceCapabilities-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_DeviceCapabilities-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Device Capabilities API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-18]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_MultiMediaMessaging-V1_1-20110111-C.pdf","file":"OMA-TS-ParlayREST_MultiMediaMessaging-V1_1-20110111-C.pdf","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Multi Media Messaging API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-5]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_OneAPIProfile-V2_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_OneAPIProfile-V2_0-20110111-C.pdf","status":"Candidate","version":"V2.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification provides the OneAPI profile of the RESTful bindings of Parlay X Web Services [REST_ERP].  The OneAPI profile of ParlayREST specifies a subset of the existing RESTful bindings of Parlay X SOAP Web Services. This specification contains tables with information on what interfaces are mandated in the profile that must be implemented in order to claim that the instance complies with the profile.  The GSMA OneAPI project is addressing deployment and operational considerations for 3rd party applications, and is re-using a subset of the Parlay X and ParlayREST Web Services APIs for this. It aims to reduce the effort and time needed to create applications and content that is portable across mobile operators."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_Payment-V1_1-20110111-C.pdf","file":"OMA-TS-ParlayREST_Payment-V1_1-20110111-C.pdf","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Payment API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-6]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_Presence-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_Presence-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Presence API using an HTTP protocol binding, based on similar API defined in [3GPP 29.199-14]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_RCSProfile-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_RCSProfile-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification provides the RCS (Rich Communications Suite) profile of the RESTful bindings of Parlay X Web Services [REST_ERP]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_ShortMessaging-V1_1-20110111-C.pdf","file":"OMA-TS-ParlayREST_ShortMessaging-V1_1-20110111-C.pdf","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Short Messaging API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-4]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C.pdf","file":"OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C.pdf","status":"Candidate","version":"V1.1","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Terminal Location API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-9].  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  8 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 2.  References  2.1     Normative     References     [3GPP 29.199-9] 3rd Generation Partnership Project; Technical Specification Group Core Network and Terminals; Open Service Access (OSA); Parlay X Web Services; Part 9: Terminal Location (Release 7); 3GPP TS 29.199-9 URL: http://www.3gpp.org/[REST_TS_Common] “RESTful bindings for Parlay X Web Services – Common”, Open Mobile Alliance™, OMA-TS-ParlayREST_Common-V1, URL:http://www.openmobilealliance.org/[OMA_REST_TS_Common] “Common definitions and specifications for OMA REST interfaces”, Open Mobile Alliance™, OMA-TS-REST_Common-V1_0, URL: http://www.openmobilealliance.org/[RFC2119] “Key words for use in RFCs to Indicate Requirement Levels”, S. Bradner, March 1997, URL:http://www.ietf.org/rfc/rfc2119.txt[RFC2616] “Hypertext Transfer Protocol -- HTTP/1.1”, R. Fielding et. al, January 1999, URL:http://www.ietf.org/rfc/rfc2616.txt[RFC4627] “The application/json Media Type for JavaScript Object Notation (JSON)”, D. Crockford, July 2006, URL:http://www.ietf.org/rfc/rfc4627.txt[SCRRULES] “SCR Rules and Procedures”, Open Mobile Alliance™, OMA-ORG-SCR_Rules_and_Procedures, URL: http://www.openmobilealliance.org/[W3C-URLENC] W3C HTML 2.0 Specification, form-urlencoded Media Type, URL:   http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1    [XMLSchema1] W3C Recommendation, XML Schema Part 1: Structures Second Edition, URL: http://www.w3.org/TR/xmlschema-1/[XMLSchema2] W3C Recommendation, XML Schema Part 2: Datatypes Second Edition, URL: http://www.w3.org/TR/xmlschema-2/2.2     Informative     References     [OMADICT] “Dictionary for OMA Specifications”, Version 2.8, Open Mobile Alliance™, OMA-ORG-Dictionary-V2_8, URL:http://www.openmobilealliance.org/ [REST_WP] “White Paper on Guidelines for ParlayREST API specifications”, Open Mobile Alliance™, OMA-WP-Guidelines-for-ParlayREST-API-specifications, URL:http://www.openmobilealliance.org/OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  9 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 3.  Terminology and Conventions 3.1     Conventions     The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in [RFC2119]. All sections and appendixes, except “Scope” and “Introduction”, are normative, unless they are explicitly indicated to be informative. 3.2     Definitions     For the purpose of this TS, all definitions from the OMA Dictionary apply [OMADICT].  3.3     Abbreviations      API Application Programming Interface HTTP HyperText Transfer Protocol JSON JavaScript Object Notation MIME Multipurpose Internet Mail Extensions OMA Open Mobile Alliance REST REpresentational State Transfer SCR Static Conformance Requirements URI  Uniform Resource Identifier  URL Uniform Resource Locator XML Extensible Markup Language OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  10 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 4.  Introduction  The ParlayREST Technical Specification for Terminal Location contains the HTTP protocol binding for the Parlay X Terminal Location Web Services specification, using the REST architectural style. The specification provides resource definitions, the HTTP verbs applicable for each of these resources, and the element data structures, as well as support material including flow diagrams and examples using the various supported message body formats (i.e. XML and JSON).  4.1     Version     1.0     Version 1.0 of the Terminal Location ParlayREST API specification supports the following operations: -Obtain the current terminal location -Obtain the terminal distance from a given location -Obtain the distance between two terminals -Manage client-specific subscriptions to periodic notifications -Manage client-specific subscriptions to area (circle) notifications -Manage client-specific subscriptions to distance notifications  4.2     Version     1.1     Version 1.1 of the Terminal Location ParlayREST API specification is a maintenance release. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  11 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.  Terminal Location API definition This section is organized to support a comprehensive understanding of the TerminalLocation API design. It specifies the definition of all resources, definition of all data structures, and definitions of all operations permitted on the specified resources. Common data types, naming conventions, fault definitions and namespaces are defined in [OMA_REST_TS_Common] and [REST_TS_Common]. The remainder of this document is structured as follows: Section 5 starts with a table listing all the resources (and their URL) used by this API, along with the data structure and the supported HTTP verbs (section 5.1). In addition, for each supported resource/verb combination, the table lists the Parlay X equivalent operation, where applicable. What follows are the data structures, divided by root elements and their child elements (section 5.2). A sample of typical use cases is included in section 5.3, described as high level flow diagrams. The remaining subsections in section 5 contain the detailed specification for each of the resources. Each such subsection defines the resource, the request URI variables that are common for all HTTP commands, the possible HTTP response codes, and the supported HTTP verbs. For each supported HTTP verb, a description of the functionality is provided, along with an example of a request and an example of a response. For each unsupported HTTP verb, the returned HTTP error status is specified, as well as what should be returned in the Allow header. All examples in section 5 use XML as the format for the message body. JSON examples are provided in Appendix D. Appendix B provides the Static Conformance Requirements (SCR).  For requests and responses that have a body, the following applies: in the requests received, the server SHALL support JSON and XML encoding of the parameters in the body, and MAY support www-form-urlencoded parameters in the body. The Server SHALL return either JSON or XML encoded parameters in the response body, according to the result of the content type negotiation as specified in [OMA_REST_TS_Common]. In notifications to the Client, the server SHALL use either XML or JSON encoding, depending on which format the client has specified in the related subscription. Note: Throughout this document client and application can be used interchangeably. 5.1     Resource     Summary     This section summarizes all the resources used by the TerminalLocation API.  The figure below visualizes the resource structure defined by this specification. Note that those nodes in the resource tree which have associated HTTP methods defined in this specification are depicted by solid boxes.  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  12 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Figure 1 Resource structure defined by this specification The following table gives a detailed overview of the resources defined in this specification, the data type of their representation and the allowed HTTP methods.  Purpose: poll terminal location and terminal distance Resource (Purpose) URL Base URL: http://{serverRoot}/{apiVersion}/location Data Structures HTTP verbs GET PUT POST DELETE Terminal location /queries/location?address={terminalId} or /queries/location?address={terminalId1}&address={terminalId2}  TerminalLocationList return current location of the terminal or multiple terminals no                   no                   no                   Terminal distance /queries/distance?address={terminalId}&latitude={lat}&longitude={lon} or /queries/distance?address={terminalId1}&address={terminalId2}  TerminalDistance return current distance from terminal to the specified location or between two terminals no                   no                   no                   Purpose: location subscription Resource (Purpose) URL Base URL: http://{serverRoot}/{apiVersion}/location Data Structures HTTP verbs GET PUT POST DELETE Periodic location notification subscriptions /subscriptions/periodic NotificationSubscriptionList (used for GET) PeriodicNotificationSubscription  (used for POST) common:ResourceReference (optional alternative for POST response) return all subscriptions no                   create                   new subscription  no Individual periodic location notification subscription /subscriptions/periodic/{subscriptionId} PeriodicNotificationSubscription return one subscription update subscriptionno           delete           one subscription OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  13 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Resource (Purpose) URL Base URL: http://{serverRoot}/{apiVersion}/location Data Structures HTTP verbs GET PUT POST DELETE Area (circle) notification subscriptions /subscriptions/area/circleNotificationSubscriptionList (used for GET) CircleNotificationSubscription  (used for POST) common:ResourceReference (optional alternative for POST response) return all subscriptions no                   create                   new subscription no Area (circle) individual notification subscription /subscriptions/area/circle/{subscriptionId} CircleNotificationSubscription return one subscription update subscriptionno           delete           one subscription Distance notification subscriptions /subscriptions/distance NotificationSubscriptionList (used for GET) DistanceNotificationSubscription (used for POST) common:ResourceReference (optional alternative for POST response) return all subscriptions no                   create                   new subscription no Distance individual notification subscription /subscriptions/distance/{subscriptionId} DistanceNotificationSubscription return one subscription update subscriptionno           delete           one subscription Purpose: client notification Resource (Purpose) URL <provided by the client> Data Structures HTTP verbs GET PUT POST DELETE Client notification callback resource {provided by client} SubscriptionNotification SubscriptionCancellationNotification no                   no                      notification on locationchanges no 5.2     Terminal Location Data Structures The namespace for the Terminal Location data types is:  urn:oma:xml:rest:terminallocation:1 OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  14 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] The 'xsd' namespace is used in the present document to refer to the XML Schema data types defined in XML Schema [XMLSchema1, XMLSchema2]. The 'common' namespace is used in the present document to refer to the data types defined in [REST_TS_Common]. The use of the names 'xsd' and ‘common’ is not semantically significant.  5.2.1      Type:      TerminalLocation      A type containing device address, retrieval status and location information. As this can be related to a query of a group of terminal devices, the locationRetrievalStatus element is used to indicate whether the information for the device was retrieved or not, or if an error occurred Element Type Optional Description address xsd:anyURI No Address of the terminal device to which the location information applies locationRetrievalStatus common:RetrievalStatus    No Status of retrieval for this terminal device address currentLocation LocationInfo Yes Location of terminal. It is only provided if locationRetrievalStatus=Retrieved. errorInformation common:ServiceError Yes If locationRetrievalStatus=Error, this is the reason for the error.  5.2.2      Type:      TerminalLocationList      A type containing a list of terminal locations. Element Type Optional Description terminalLocation TerminalLocation [1..unbounded] No Collection of the terminal locations A root element named terminalLocationList of type TerminalLocationList is allowed in request and/or response bodies. 5.2.3      Type:      SubscriptionNotification      A type containing the notification subscription. Element Type Optional Description callbackData                      xsd:string                      Yes                      CallbackData if passed by the application in the receiptRequest element during the associated subscription operation. See [REST_TS_Common]. terminalLocation                TerminalLocation                [1..unbounded] No Collection of the terminal locations enteringLeavingCriteria EnteringLeavingCriteria Yes Indicates whether the notification was caused by the terminal entering or leaving the target area. (This part is provided for geographical notifications) distanceCriteria                  DistanceCriteria                  Yes                  Indicates                  which                  distance                  criteria                  that                  caused                  the notification. (This part is provided for distance notifications) isFinalNotification xsd:boolean Yes Will be set to true if it is a final notification about location change link                                     common:Link                                     [0..unbounded] Yes Link to other resources that are in relationship with  the resource A root element named subscriptionNotification of type SubscriptionNotification is allowed in request and/or response bodies. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  15 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.2.4      Type:      SubscriptionCancellationNotification      A type containing the subscription cancellation notification Element  Type Optional Description callbackData          xsd:string          Yes          CallbackData if passed by the application in the receiptRequest element during the associated subscription operation. See [REST_TS_Common]. address xsd:anyURI Yes Address of terminal if the error applies to an individual terminal, or not specified if it applies to the whole notification. reason common:ServiceError No Reason notification is being discontinued. link common:Link[0..unbounded] Yes Link to other resources that are in relationship with  the resource A root element named subscriptionCancellationNotification of type SubscriptionCancellationNotification is allowed in request and/or response bodies. 5.2.5      Type:      TerminalDistance      A type containing information about the distance from a terminal to a location or between two terminals, in addition the accuracy and timestamp of the information is provided. Element  Type Optional Description  distance xsd:int No Distance from terminal to a location or between two terminals specified in meters accuracy xsd:int Yes Accuracy of the provided distance in meters timestamp xsd:dateTime Yes Date and time that location from which distance is calculated was collected A root element named terminalDistance of type TerminalDistance is allowed in request and/or response bodies. 5.2.6      Type:      LocationInfo      A type containing location information with latitude, longitude and altitude, in addition the accuracy and a timestamp of the information is provided. Element  Type Optional Description latitude                  xsd:float                  No                  Location                  latitude                  longitude               xsd:float               No               Location               longitude               altitude                  xsd:float                  Yes                  Location                  altitude                  accuracy xsd:int No Accuracy of location provided in meters timestamp xsd:dateTime    No Date and time that location was collected A root element named locationInfo of type LocationInfo is allowed in request and/or response bodies.  5.2.7      Type:      NotificationSubscriptionList      A type containing the different subscriptions. Element  Type OptionalDescription circleNotificationSubscription         CircleNotificationSubscription         [0..unbound] Yes           Collection           of           CircleNotificationSubscription elements periodicNotificationSubscription     PeriodicNotificationSubscriptionYes           Collection           of           PeriodicNotificationSubscription OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  16 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Element  Type OptionalDescription [0..unbound]                                                     elements                                                     distanceNotificationSubscriptionDistanceNotificationSubscription[0..unbound] Yes           Collection           of           DistanceNotificationSubscription elements Aroot element named notificationSubscriptionList of type NotificationSubscriptionList is allowed in request and/or response bodies. 5.2.8      Type:      CircleNotificationSubscription      A type containing data for notification, when the area is defined as a circle. Element  Type Optional Description clientCorrelator xsd:string Yes A correlator that the client MAY use to tag this particular resource representation during a request to create a resource on the server. In case the field is present, the server SHALL not alter its value, and SHALL provide it as part of the representation of this resource. In case the field is not present, the server SHALL NOT generate it. resourceURL xsd:anyURI Yes Self referring URL.SHALL NOT be included in POST requests, MUST be included in responses to any HTTP method that returns an entity body, and in PUT requests. link                                    common:Link[0..unbounded]Yes Link to other resources that are in relationship with  the resource callbackReference common:CallbackReference    No Notification callback definition requester xsd:anyURI Yes It identifies the entity that is requesting the information.  The application invokes this operation on behalf of this entity.  However, it does not imply that the application has authenticated the requester. If this part is not present, the requesting entity is the application itself. If this part is present, and the requester is not authorized to retrieve location info, a policy exception will be returned. address xsd:anyURI [1..unbounded] No Addresses of terminals to monitor. Reference to the group could be provided here if supported by implementation latitude                              xsd:float                              No                              Latitude                              of                              center                              point                              longitude xsd:float No Longitude of center point radius xsd:float No Radius of circle around center point in meters trackingAccuracy xsd:float No Number of meters of acceptable error in tracking distance enteringLeavingCriteriaEnteringLeavingCriteria No Indicates whether the notification should occur when the terminal enters or leaves the target area checkImmediate xsd:boolean No Check location immediately after establishing notification OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  17 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Element  Type Optional Description frequency xsd:int No Maximum frequency (in seconds) of notifications per subscriber (can also be considered minimum time between notifications) duration xsd:int Yes Period of time (in seconds) notifications are provided for. If set to “0” (zero), a default duration time, which is specified by the service policy, will be used. If the parameter is omitted, the notifications will continue until the maximum duration time, which is specified by the service policy, unless the notifications are stopped by deletion of subscription for notifications  count xsd:int Yes Maximum number of notifications per individual address.  For no maximum, either do not specify this part or specify a value of zero. Default value is 0. A root element named circleNotificationSubscription of type CircleNotificationSubscription is allowed in request and/or response bodies. Note that the clientCorrelator is used for purposes of error recovery as specified in of [REST_TS_Common], and internal client purposes. The server is NOT REQUIRED to use the clientCorrelator value in any form in the creation of the URL of the resource. [REST_TS_Common] provides a recommendation regarding the generation of the value of this field. 5.2.9      Type:      PeriodicNotificationSubscription      A type containing data for periodic subscription.  Element  Type OptionalDescription clientCorrelator xsd:string Yes A correlator that the client MAY use to tag this particular resource representation during a request to create a resource on the server. In case the field is present, the server SHALL not alter its value, and SHALL provide it as part of the representation of this resource. In case the field is not present, the server SHALL NOT generate it. resourceURL xsd:anyURI Yes Self referring URL.SHALL NOT be included in POST requests, MUST be included in responses to any HTTP method that returns an entity body, and in PUT requests. link                             common:Link[0..unbounded]Yes Link to other resources that are in relationship with  the resource callbackReference common:CallbackReference    No Notification callback definition requester xsd:anyURI Yes It identifies the entity that is requesting the information.  The application invokes this operation on behalf of this entity.  However, it does not imply that the application has authenticated the requester. If this part is not present, the requesting entity is the application itself. If this part is present, and the requester is not authorized to retrieve location info, a policy exception will be returned. address xsd:anyURI [1..unbounded] No Addresses of terminals to monitor OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  18 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Element  Type OptionalDescription requestedAccuracyxsd:int No Accuracy of the provided distance in meters  frequency xsd:int No Maximum frequency (in seconds) of notifications (can also be considered minimum time between notifications) duration xsd:int Yes Period of time (in seconds) notifications are provided for. If set to “0” (zero), a default duration time, which is specified by the service policy, will be used. If the parameter is omitted, the notifications will continue until the maximum duration time, which is specified by the service policy, unless the notifications are stopped by deletion of subscription for notifications A root element named periodicNotificationSubscription of type PeriodicNotificationSubscription is allowed in request and/or response bodies. Note that the clientCorrelator is used for purposes of error recovery as specified in [REST_TS_Common], and internal client purposes. The server is NOT REQUIRED to use the clientCorrelator value in any form in the creation of the URL of the resource. [REST_TS_Common] provides a recommendation regarding the generation of the value of this field.  5.2.10    Type:    DistanceNotificationSubscription    A type containing data for distance subscription, with reference to other devices. Element  Type Optional Description clientCorrelator xsd:string Yes A correlator that the client MAY use to tag this particular resource representation during a request to create a resource on the server. In case the field is present, the server SHALL not alter its value, and SHALL provide it as part of the representation of this resource. In case the field is not present, the server SHALL NOT generate it. resourceURL xsd:anyURI Yes Self referring URL.SHALL NOT be included in POST requests, MUST be included in responses to any HTTP method that returns an entity body, and in PUT requests. link                              common:Link                              [0..unbounded] Yes Link to other resources that are in relationship with  the resource callbackReference common:CallbackReference No Notification callback definition requester xsd:anyURI Yes It identifies the entity that is requesting the information.  The application invokes this operation on behalf of this entity.  However, it does not imply that the application has authenticated the requester. If this part is not present, the requesting entity is the application itself. If this part is present, and the requester is not authorized to retrieve location info, a policy exception will be returned. referencesAddress     xsd:anyURI      [0..unbounded] Yes If specified, indicates address of each device that will be used as reference devices from which the distances towards monitored devices indicated in the Addresses will be monitored. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  19 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Element  Type Optional Description monitoredAddress      xsd:anyURI       [1..unbounded] No Contains addresses of devices to monitor. If the ReferenceAddress is specified, then the distance between each monitored device and reference device(s) will be monitored.  If the ReferenceAddress is not present, then the distance between each of the monitored devices will be monitored. Note that in that case there must be at least two addresses specified here. distance xsd:float No Distance between devices that shall be monitored trackingAccuracy xsd:float No Number of meters of acceptable error in tracking distance criteria DistanceCriteria No Indicates whether the notification should occur when the geographical relationship between monitored and referenced devices changes. checkImmediate xsd:boolean No Check location immediately after establishing notification frequency xsd:int No Maximum frequency (in seconds) of notifications per subscriber (can also be considered minimum time between notifications) duration xsd:int Yes Period of time (in seconds) notifications are provided for. If set to “0” (zero), a default duration time, which is specified by the service policy, will be used. If the parameter is omitted, the notifications will continue until the maximum duration time, which is specified by the service policy, unless the notifications are stopped by deletion of subscription for notifications count xsd:int Yes Maximum number of notifications per individual address.  For no maximum, either do not specify this part or specify a value of zero. Default value is 0. A root element named distanceNotificationSubscription of type DistanceNotificationSubscription is allowed in request and/or response bodies. Note that the clientCorrelator is used for purposes of error recovery as specified in [REST_TS_Common], and internal client purposes. The server is NOT REQUIRED to use the clientCorrelator value in any form in the creation of the URL of the resource. [REST_TS_Common] provides a recommendation regarding the generation of the value of this field.  5.2.11    Enumeration:    EnteringLeavingCriteria    An enumeration, defining the direction of a terminal. EnumerationDescription Entering Terminal is entering an area Leaving Terminal is leaving an area 5.2.12    Void         OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  20 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.2.13    Enumeration:    DistanceCriteria    An enumeration, defining the distance criteria between devices. Enumeration Description AllWithinDistance All monitored devices are within the specified distance AnyWithinDistance Any of monitored devices gets within the specified distance AllBeyondDistance All monitored devices are beyond the specified distance AnyBeyondDistanceAny of monitored devices gets beyond the specified distance 5.2.14    Enumeration:    DelayTolerance    An enumeration for what delay is acceptable. Enumeration Description NoDelay The server should immediately return any location estimate that it currently has. If no estimate is available, the server shall return the failure indication and may optionally initiate procedures to obtain a location estimate (e.g. to be available for a later request). LowDelay Fulfilment of the response time requirement takes precedence over fulfilment of the accuracy requirement. The server shall return any current location estimate with minimum delay. The server shall attempt to fulfil any accuracy requirement, but in doing so shall not add any additional delay (i.e. a quick response with lower accuracy is more desirable than waiting for a more accurate response). DelayTolerant Fulfilment of the accuracy requirement takes precedence over fulfilment of the response time requirement. If necessary, the server should delay providing a response until the accuracy requirement of the requesting application is met. The server shall obtain a current location with regard to fulfilling the accuracy requirement. 5.2.15    Values of the Link “rel” attribute The “rel” attribute of the Link element is a free string set by the server implementation, to indicate a relationship between the current resource and an external resource. The following are possible strings (list is non-exhaustive, and can be extended): •TerminalLocationList •TerminalDistance •LocationInfo •NotificationPeriodicSubscriptionList •NotificationCircleSubscriptionList •NotificationDistanceSubscriptionList •SubscriptionNotification •SubscriptionCancellationNotification •CircleNotificationSubscription •PeriodicNotificationSubscription •DistanceNotificationSubscription These values indicate the kind of resource that the link points to. 5.3     Sequence     diagrams     5.3.1      Location      query      This figure below shows a scenario to return location for single terminal or group of terminals. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  21 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] The resource: -To get the location information for a single terminal or a group of terminals, read the resource below with the URL parameters terminal address or addresses http://{serverRoot}/{apiVersion}/location/queries/location   1. GET: request single or multiples terminal locationApplicationApplicationResponse : terminal locationRetrieve terminal locationServerServer Figure 2Location query  Outline of flow: 1. An application requests single or multiples terminal location with Request URL parameters such as terminal address or addresses (i.e. group) and desired accuracy using GET and receives the terminal location information.  5.3.2 Distance from location query This figure below shows a scenario to return the distance of a terminal from a location. The resource: To get the distance between a terminal and a geographical location, read the resource below, while passing appropriate query parameters http://{serverRoot}/{apiVersion}/location/queries/distance  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  22 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 1. GET: request sing le terminal  d istanceApplicationApplicationResp onse : terminal  distanceRetrieve terminal distanceServerServer Figure 3Distance from location query Outline of flow: 1. An application requests the distance between a terminal and a geographical location by using GET with resource URL and request URL parameters such as terminal address and longitude/latitude of the geographical location. It receives the terminal distance information.  5.3.3 Distance between two terminals query This figure below shows a scenario to return the distance between two terminals. The resource: -To get the distance between two terminals, read the resource below, while passing appropriate query parameters http://{serverRoot}/{apiVersion}/location/queries/distance Figure 4Distance between two terminals query  Outline of flow: OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  23 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 1. An application requests the distance between two terminals by using GET with the resource URL and providing two different terminal addresses as Request URL parameters. It receives the terminal distance information.  5.3.4 Periodic location notification This figure below shows a scenario to control subscriptions for periodic notifications about terminal location for a particular client. The resource: -To start subscription to periodic notifications about terminal location for a particular client, create new resource under  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic -To update or delete an individual subscription for periodic notifications about terminal location for a particular client, use the resource  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}  1. POST: create new periodic notification subscription2. POST: notify new location information3. PUT: update an individual subscription with subscription id5. DELETE: delete subscription with subscription id4. POST: notify new location informationResponse : periodic notification subscription with subscription idApplicationApplicationServerServerTimer expirationTimer expirationResponseResponseResponseResponse Figure 5Periodic location notification  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  24 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Outline of flow: 1. An application creates a new periodic notification subscription for the particular client by using POST and receives the resulting resource URL containing the subscriptionId. 2. When the set up timer expires, the REST service on the server notifies the application of current location information using POST to the application supplied notifyURL. This is repeated each time interval. 3. An application updates an individual subscription for periodic location notification for the particular client by using PUT to resource URL containing the subscriptionId. 4. When the set up timer expires, the REST service on the server notifies the application of current location information using POST to the application supplied notifyURL. This is repeated each time interval. 5. An application deletes a subscription for periodic location notification and stop notifications for a particular client by using DELETE to resource URL containing the subscriptionId.  5.3.5 Area (circle) location notification This figure below shows a scenario to control subscriptions for notification about terminal movement in relation to the geographic area (circle), crossing in and out, for a particular client. The resource: -To start subscription to notifications about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client, create new resource under http://{server root}/{api version}/location/subscriptions/area/circle -To update or delete an individual subscription for notifications about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client, use the resource  http://{server root}/{api version}/location/subscriptions/area/circle/{subscriptionId}  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  25 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 1. POST: create new area (circle) location notification subscription2. POST: notify new location information3. PUT: update an individual subscription with subscription id5. DELETE: delete the  subscription with subscription id4. POST: notify new location informationResponse : area (circle) location notification subscription with subscription idApplicationApplicationServerServerResponseResponseResponseResponseTerminal cross in areaTerminal cross in area Figure 6Area (circle) location notification  Outline of flow: 1. An application creates a new area (circle) notification subscription for the particular client by using POST and receives the resulting resource URL containing the subscriptionId.  2. When the terminal crosses in or out the specified area (circle) the REST service on the server notifies the application using POST to the application supplied notifyURL.  3. An application updates an individual subscription for area (circle) notification for the particular client by using PUT to resource URL containing the subscriptionId. 4. When the terminal crosses in or out the updated specified area (circle) the REST service on the server notifies the application using POST to the application supplied notifyURL.  5. An application deletes a subscription for area (circle) notification and stop notifications for the particular client by using DELETE to resource URL containing the subscriptionId.  5.3.6 Distance location notification This figure below shows a scenario to control subscriptions for notifications about changes in the geographical relationships between terminals (a client has passed a border by either approaching or leaving another referenced client). OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  26 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] The resource and operation used -To start subscription to notifications about changes in the geographical relationships between terminals, create new resource under  http://{serverRoot}/{apiVersion}/location/subscriptions/distance -To update or delete an individual subscription for notifications about changes in the geographical relationships between terminals for a particular client, use the resource  http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId} 1. POST: create new distance notification subscription2. POST: notify new location information3. PUT: update an individual subscription with subscription id5. DELETE: delete the  subscription with subscription id4. POST: notify new location informationResponse : distance notification subscription with subscription idApplicationApplicationServerServerResponseResponseResponseResponseTerminal close to other terminalTerminal close to other terminal Figure 7Distance location notification  Outline of flow: 1. An application creates a new distance notification subscription for the particular client by using POST and receives the resulting resource URL containing the subscriptionId. 2. When a terminal passes the border by either approaching or leaving the referenced terminal, the REST service on the server notifies the application by using POST to the application supplied notifyURL. 3. An application updates an individual subscription for distance notification for the particular terminal by using PUT to resource URL containing the subscriptionId.  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  27 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 4. When a terminal passes the border by either approaching or leaving the referenced terminal, the REST service on the server notifies the application by using POST to the application supplied notifyURL.  5. An application deletes a subscription for distance notification and stop notifications for the particular client by using DELETE to resource URL containing the subscriptionId.  5.4     Resource:     Terminal     Location     The resource used is:  http://{serverRoot}/{apiVersion}/location/queries/location  This resource is used to return location for single terminal or group of terminals. 5.4.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com/exampleAPI apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.4.2      Response      codes      5.4.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.4.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.4.3      GET      This operation is used to read terminal location information. If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. Request URL parameters are: Name Type/value Optional Description requester                     xsd:anyURI                     Yes                     It identifies the entity that is requesting the information.  The application invokes this operation on behalf of this entity.  However, it does not imply that the application has authenticated the requester. If this part is not present, the requesting entity is the application itself. If this part is present, and the requester is not authorized to retrieve location info, a policy exception will be returned. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  28 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.4.3.1 Example 1: (one terminal address)  (Informative) 5.4.3.1.1           Request            GET /exampleAPI/1/location/queries/location?address=tel%3A%2B1-555-0100&tolerance=LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000  &maximumAge=180&responseTime=300 HTTP/1.1 Accept: application/xml Host: example.com 5.4.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalLocationList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <terminalLocation> <address>tel:+1-555-0100</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> </tl:terminalLocationList> 5.4.3.2 Example 2: (multiple terminal addresses) (Informative) 5.4.3.2.1           Request            GET /exampleAPI/1/location/queries/location?address=tel%3A%2B1-555-0100&address=tel%3A%2B1-555-0101&Tolerance=address                       xsd:anyURI[1..unbounded]No Address(es) of the terminal device(s) for which the location information is requested requestedAccuracy xsd:int No Accuracy of location information requested acceptableAccuracyxsd:int No Accuracy that is acceptable for a response maximumAge xsd:int Yes Maximum acceptable age (in seconds) of the location information that is returned responseTime xsd:int Yes Indicates the maximum time (in seconds) that the application can accept to wait for a response Tolerance  DelayTolerance  No  Indicates the priority of response time versus accuracy  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  29 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000 HTTP/1.1Accept: application/xml  Host: example.com 5.4.3.2.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalLocationList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <terminalLocation> <address>tel:+1-555-0100</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <terminalLocation> <address>tel:1-555-0101</address> <locationRetrievalStatus>Error</locationRetrievalStatus> <errorInformation> <messageId>SVC0001</messageId> <text>A service error occurred. %1 %2</text> <variables>Location information is not available for</variables> <variables>tel:1-555-0101</variables> </errorInformation> </terminalLocation> </tl:terminalLocationList> 5.4.3.3 Example 3: (location with unsupported accuracy) (Informative) 5.4.3.3.1           Request            GET /exampleAPI/1/location/queries/location?address=tel%3A%2B1-555-0100&tolerance=LowDelay&requestedAccuracy=10&acceptableAccuracy=100 HTTP/1.1 Accept: application/xml  Host: example.com OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  30 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.4.3.3.2           Response            HTTP/1.1 400 Bad RequestContent-Type: application/xml Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <common:requestError xmlns:common=\"urn:oma:xml:rest:common:1\"> <link rel=\"TerminalLocationList\" href=\"http://example.com/exampleAPI/1/location/queries/location\"/> <policyException> <messageId>POL0230</messageId> <text>The requested accuracy %1 is not supported by the policy</text> <variables>10</variables> </policyException> </common:requestError> 5.4.3.4 Example 4: (unauthorized requester) (Informative) 5.4.3.4.1           Request            GET /exampleAPI/1/location/queries/location?requester=tel%3A%2B1-555-0102&address= tel%3A%2B1-555-0100&tolerance=LowDelay&requestedAccuracy=10&acceptableAccuracy=100 HTTP/1.1 Accept: application/xml Host: example.com 5.4.3.4.2           Response            HTTP/1.1 400 Bad RequestContent-Type: application/xml Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <common:requestError xmlns:common=\"urn:oma:xml:rest:common:1\"> <policyException> <messageId>POL0002</messageId> <text>Privacy error.</text> </policyException> </common:requestError> 5.4.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. 5.4.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  31 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.4.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. 5.5     Resource:     Terminal     distance     The resource used is:  http://{serverRoot}/{apiVersion}/location/queries/distance This resource is used to return distance between either: •A terminal and a geographical location. •Two terminals 5.5.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com/exampleAPI apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.5.2      Response      codes      5.5.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.5.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9].  5.5.3      GET      This operation is used to return the distance between either: •A terminal and a geographical location. •Two terminals If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. Request URL parameters are: Name Type/value Optional Description requester     xsd:anyURI     Yes     It identifies the entity that is requesting the information. The application invokes this operation on behalf of this entity.  However, it does not imply that the application has authenticated the requester. If this part is not present, the requesting entity is the application itself. If this part is present, and the requester is not authorized to retrieve location info, a policy exception OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  32 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] will be returned. address       xsd:anyURI[1..2]No One or two terminal addresses of terminal to check.  The second “address” parameter SHALL NOT be used when the distance between a terminal and a location is requested. latitude xsd:float Yes Latitude of the location to measure from. SHALL NOT be used when the distance between two terminals is requested. longitude xsd:float Yes Longitude of the location to measure from. SHALL NOT be used when the distance between two terminals is requested. 5.5.3.1 Example 1: (distance between a terminal and a location)  (Informative) 5.5.3.1.1           Request           This example shows also an alternative way to indicate desired content type in response from the server, by using URL query parameter “?resFormat” which is described in [OMA_REST_TS_Common]. GET /exampleAPI/1/location/queries/distance?resFormat=XML&address=tel%3A%2B1-555-0101&latitude=50&longitude=125 HTTP/1.1Host: example.com 5.5.3.1.2           Response:            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalDistance xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <distance>100</distance> </tl:terminalDistance> 5.5.3.2 Example 2:  (distance between two terminals)  (Informative) 5.5.3.2.1           Request            GET /exampleAPI/1/location/queries/distance?address=tel%3A%2B1-555-0101&address=tel%3A%2B1-555-0102HTTP/1.1Accept: application/xml  Host: example.com 5.5.3.2.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: nnnn OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  33 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Date: Thu, 04 Jun 2009 02:51:59 GMT<?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalDistance xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <distance>100</distance> </tl:terminalDistance> 5.5.3.3 Example 3: (invalid address)  (Informative) 5.5.3.3.1           Request                       GET /exampleAPI/1/location/queries/distance?address=tel%3A%2B1-555-0199&latitude=50&longitude=125 HTTP/1.1Accept: application/xml  Host: example.com 5.5.3.3.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <common:requestError xmlns:common=\"urn:oma:xml:rest:common:1\"> <link rel=\"TerminalDistance\" href=\"http://example.com/exampleAPI/1/location/queries/distance\"/> <serviceException> <messageId>SVC0002</messageId> <text> Invalid input value for message part %1</text> <variables>tel:+1-555-0199</variables> </serviceException> </common:requestError> 5.5.3.4 Example 4: (too many addresses)  (Informative) 5.5.3.4.1           Request            GET /exampleAPI/1/location/queries/distance?address=tel%3A%2B1-555-0199&address=tel%3A%2B1-555-0198&address=tel%3A%2B1-555-0101  HTTP/1.1 Accept: application/xml  Host: example.com 5.5.3.4.2           Response            HTTP/1.1 400 Bad RequestContent-Type: application/xml Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  34 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] <?xml version=\"1.0\" encoding=\"UTF-8\"?><common:requestError xmlns:common=\"urn:oma:xml:rest:common:1\"> <link rel=\"TerminalDistance\" href=\"http://example.com/exampleAPI/1/location/queries/distance\"/> <policyException> <messageId>POL0003</messageId> <text>Too many addresses specified in message part %1</text> <variables>addresses</variables> </policyException> </common:requestError> 5.5.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. 5.5.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. 5.5.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. 5.6     Resource: Periodic location notification subscriptions The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic This resource is used to control subscriptions for periodic location notification for a particular client. 5.6.1 Request URI variables The following request URI variables are common for all HTTP commands: NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com/exampleAPI apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.6.2      Response      codes      5.6.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.6.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.6.3      GET      Read all active subscriptions for periodic location notifications for the particular client. No URL parameters. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  35 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.6.3.1        Example                (Informative)        5.6.3.1.1           Request            GET /exampleAPI/1/location/subscriptions/periodic HTTP/1.1Accept: application/xml  Host: example.com 5.6.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:notificationSubscriptionList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <periodicNotificationSubscription> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0101</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <requestedAccuracy>10</requestedAccuracy> <frequency>10 </frequency> </periodicNotificationSubscription> <periodicNotificationSubscription> <clientCorrelator>0002</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0102</resourceURL> <callbackReference> <notifyURL> http://application.example.com/notifications/LocationNotification </notifyURL> <callbackData>5678</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <address>tel:+1-555-0101</address> <requestedAccuracy>10</requestedAccuracy> <frequency>10</frequency> </periodicNotificationSubscription> </tl:notificationSubscriptionList> 5.6.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616]. 5.6.5      POST      This operation is used to create a new periodic location notification subscription for the particular client. If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  36 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Note: server implementation may use clientCorrelator value, if provided by client, as {subscriptionId}. Otherwise, sequence number should be generated for {subscriptionId}. This is to make sure that client can have a stable and predictable URL for online subscriptions.  5.6.5.1 Example 1: returning a representation of created resource    (Informative) 5.6.5.1.1           Request            POST /exampleAPI/1/location/subscriptions/periodic HTTP/1.1Content-Type: application/xml Accept: application/xml Host: example.com  Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <requestedAccuracy>10</requestedAccuracy> <frequency>10</frequency> </tl:periodicNotificationSubscription> 5.6.5.1.2           Response            HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <requestedAccuracy>10</requestedAccuracy> <frequency>10</frequency> </tl:periodicNotificationSubscription> 5.6.5.2 Example 2: returning the location of created resource  (Informative) 5.6.5.2.1           Request            POST /exampleAPI/1/location/subscriptions/periodic HTTP/1.1OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  37 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Content-Type: application/xmlAccept: application/xml Host: example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <requestedAccuracy>10</requestedAccuracy> <frequency>10</frequency> </tl:periodicNotificationSubscription> 5.6.5.2.2           Response            HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100 Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <common:resourceReference xmlns:common=\"urn:oma:xml:rest:common:1\"> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100</resourceURL> </common:resourceReference> 5.6.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616].  5.7     Resource: Individual periodic location notification subscription The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId} This resource is used to control individual subscription for periodic location notifications for a particular client. 5.7.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  38 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] http://example.com/exampleAPI  apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) subscriptionId identifier of the subscription 5.7.2      Response      codes      5.7.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.7.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.7.3      GET      This operation is used to read an individual subscription for periodic location notifications for the particular client. No URL parameters 5.7.3.1        Example                (Informative)        5.7.3.1.1           Request            GET/exampleAPI/1/location/subscriptions/periodic/tel:%3A%2B1-555-0100HTTP/1.1Accept: application/xml  Host: example.com 5.7.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <requestedAccuracy>10</requestedAccuracy> <frequency>10</frequency> </tl:periodicNotificationSubscription> 5.7.4      PUT      This operation is used to update an individual subscription for periodic location notifications for the particular client. If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  39 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.7.4.1        Example                (Informative)        5.7.4.1.1           Request            PUT /exampleAPI/1/location/subscriptions/periodic/tel%3A%2B1-555-0100HTTP/1.1Content-Type: application/xml Accept: application/xml Host: example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <requestedAccuracy>5</requestedAccuracy> <frequency>60</frequency> </tl:periodicNotificationSubscription> 5.7.4.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <requestedAccuracy>5</requestedAccuracy> <frequency>60</frequency> </tl:periodicNotificationSubscription> 5.7.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, PUT, DELETE’ field in the response as per section 14.7 of [RFC 2616]. 5.7.6      DELETE      This operation is used to delete a subscription for periodic location notifications and stop notifications for a particular client. No URL parameters OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  40 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.7.6.1        Example                (Informative)        5.7.6.1.1           Request            DELETE /exampleAPI/1/location/subscriptions/periodic/tel:%3A%2B1-555-0100HTTP/1.1Accept: application/xml Host: example.com 5.7.6.1.2           Response            HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT 5.8     Resource: Area (circle) notification subscriptions The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle This resource is used to control subscriptions for notification about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client. 5.8.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com/exampleAPI apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.8.2      Response      codes      5.8.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.8.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.8.3      GET      This operation is used to read all active movement notifications subscriptions for the particular client. No URL parameters 5.8.3.1        Example                (Informative)        5.8.3.1.1           Request            OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  41 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] GET /exampleAPI/1/location/subscriptions/area/circleHTTP/1.1Accept: application/xml Host: example.com 5.8.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:notificationSubscriptionList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <circleNotificationSubscription> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0101</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </circleNotificationSubscription> <circleNotificationSubscription> <clientCorrelator>0004</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0102</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>5555</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <address>tel:+1-555-0101</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </circleNotificationSubscription> </tl:notificationSubscriptionList> 5.8.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616]. OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  42 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.8.5      POST      This operation is used to create new movement notification subscription for the particular client. If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. Note: server implementation may use clientCorrelator value, if provided by client, as {subscriptionId}. Otherwise, sequence number should be generated for {subscriptionId}. This is to make sure that client can have a stable and predictable URL for online subscriptions. May be required when multiple client instances are used for performance reasons. 5.8.5.1        Example                (Informative)        5.8.5.1.1           Request            POST /exampleAPI/1/location/subscriptions/area/circle HTTP/1.1Content-Type: application/xml Accept: application/xml Host: example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:circleNotificationSubscription> 5.8.5.1.2           Response            HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100/} Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+1-555-0100</address> OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  43 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] <latitude>100.23</latitude><longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:circleNotificationSubscription> 5.8.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616]. 5.9     Resource: Area (circle) individual notification subscription The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}  This resource is used to control individual subscription for notifications about terminal movement in relation to the geographic area (circle), crossing in and out, for a particular client. 5.9.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) subscriptionId identifier of the subscription 5.9.2      Response      Codes      5.9.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.9.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.9.3      GET      This operation is used to read an individual subscription for movement notification for the particular client. No URL parameters 5.9.3.1        Example                (Informative)        5.9.3.1.1           Request            OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  44 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] GET /exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100HTTP/1.1Accept: application/xml Host: example.com 5.9.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:circleNotificationSubscription> 5.9.4      PUT      This operation is used to update the subscription for movement notification for the particular client. If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. 5.9.4.1 Example: update radius  (Informative) 5.9.4.1.1           Request            PUT /exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100HTTP/1.1Content-Type: application/xml Accept: application/xml Host: example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+1-555-0100</address> OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  45 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] <latitude>100.23</latitude><longitude>-200.45</longitude> <radius>50</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:circleNotificationSubscription> 5.9.4.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL> http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100 </resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+1-555-0100</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>50</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:circleNotificationSubscription> 5.9.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, PUT, DELETE’ field in the response as per section 14.7 of [RFC 2616]. 5.9.6      DELETE      This operation is used to delete subscription for movement notifications and stop notifications for the particular client. No URL parameters 5.9.6.1        Example                (Informative)        5.9.6.1.1           Request            DELETE /exampleAPI/1/location/subscriptions/area/circle/tel%3A%2B1-555-0100HTTP/1.1Accept: application/xml OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  46 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Host: example.com5.9.6.1.2           Response            HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.10   Resource: Distance notification subscriptions The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/distance  This resource is used to control subscriptions for notification about changes in the geographical relationships between terminals (a client has passed a border by either approaching or leaving another referenced client).  5.10.1    Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com/exampleAPI apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.10.2    Response    codes    5.10.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.10.2.2      Exception      fault      codes      For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.10.3    GET    This operation is used to read all active distance notifications subscriptions for the particular client. No URL parameters 5.10.3.1      Example            (Informative)      5.10.3.1.1         Request          GET /exampleAPI/1/location/subscriptions/distance HTTP/1.1Accept: application/xml  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  47 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Host: example.com5.10.3.1.2         Response          HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:notificationSubscriptionList  xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <distanceNotificationSubscription> <clientCorrelator>0006</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0101</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+1-555-0100</referenceAddress> <monitoredAddress>tel:+1-555-0101</monitoredAddress> <monitoredAddress>tel:+1-555-0102</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </distanceNotificationSubscription> <distanceNotificationSubscription> <clientCorrelator>0007</clientCorrelator> <resourceURL> http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0102</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>7777</callbackData> </callbackReference> <monitoredAddress>tel:+1-555-0100</monitoredAddress> <monitoredAddress>tel:+1-555-0101</monitoredAddress> <monitoredAddress>tel:+1-555-0102</monitoredAddress> <distance>1000</distance> <trackingAccuracy>50</trackingAccuracy> <criteria>AnyBeyondDistance</criteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </distanceNotificationSubscription> </tl:notificationSubscriptionList> 5.10.4    PUT    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616].  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  48 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.10.5    POST    This operation is used to create new distance notification subscription for the particular client. If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. Note: server implementation may use clientCorrelator value, if provided by client, as {subscriptionId}. Otherwise, sequence number should be generated for {subscriptionId}. This is to make sure that client can have a stable and predictable URL for online subscriptions.  5.10.5.1      Example            (Informative)      5.10.5.1.1         Request          POST /exampleAPI/1/location/subscriptions/distance HTTP/1.1Content-Type: application/xml Accept: application/xml Host: example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+1-555-0100</referenceAddress> <monitoredAddress>tel:+1-555-0101</monitoredAddress> <monitoredAddress>tel:+1-555-0102</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:distanceNotificationSubscription> 5.10.5.1.2         Response          HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\" > <clientCorrelator>0006</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+1-555-0100</referenceAddress> OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  49 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] <monitoredAddress>tel:+1-555-0101</monitoredAddress><monitoredAddress>tel:+1-555-0102</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:distanceNotificationSubscription> 5.10.6    DELETE    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616]. 5.11   Resource: Distance individual notification subscription The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId} This resource is used to control individual subscription for notifications about changes in the geographical relationships between terminals (a client has passed a border by either approaching or leaving another referenced client). 5.11.1    Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) subscriptionId identifier of the subscription 5.11.2    Response    Codes    5.11.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.11.2.2      Exception      fault      codes      For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.11.3    GET    This operation is used to read an individual subscription for distance notification for the particular client. No URL parameters 5.11.3.1      Example            (Informative)      5.11.3.1.1         Request          GET /exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100HTTP/1.1OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  50 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Accept: application/xmlHost: example.com 5.11.3.1.2         Response          HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+1-555-0100</referenceAddress> <monitoredAddress>tel:+1-555-0101</monitoredAddress> <monitoredAddress>tel:+1-555-0102</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:distanceNotificationSubscription> 5.11.4    PUT    This operation is used to update the subscription for distance notification for the particular client. If the requester parameter is present and the requester is not authorized, PolicyException (POL0002) will be returned. 5.11.4.1 Example: add a monitored address  (Informative) 5.11.4.1.1         Request          PUT ./exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100HTTP/1.1Content-Type: application/xml Accept: application/xml Host: example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  51 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] <referenceAddress>tel:+1-555-0100</referenceAddress><monitoredAddress>tel:+1-555-0101</monitoredAddress> <monitoredAddress>tel:+1-555-0102</monitoredAddress> <monitoredAddress>tel:+1-555-0103</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:distanceNotificationSubscription> 5.11.4.1.2         Response          HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <resourceURL>http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+1-555-0100</referenceAddress> <monitoredAddress>tel:+1-555-0101</monitoredAddress> <monitoredAddress>tel:+1-555-0102</monitoredAddress> <monitoredAddress>tel:+1-555-0103</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency>10</frequency> </tl:distanceNotificationSubscription> 5.11.5    POST    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST, DELETE’ field in the response as per section 14.7 of [RFC 2616]. 5.11.6    DELETE    This operation is used to delete subscription for distance notifications and stop notifications for the particular client. No URL parameters 5.11.6.1      Example            (Informative)      5.11.6.1.1         Request          DELETE /exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100HTTP/1.1Accept: application/xml OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  52 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Host: example.com5.11.6.1.2         Response:          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12   Resource: Client notification callback resource This resource is a client provided callback URL for notification about location changes. ParlayREST does not make any assumption about the structure of this URL 5.12.1    Request URI variables Client provided. 5.12.2    Response    Codes    5.12.2.1 HTTP Response Codes For HTTP response codes, see [OMA_REST_TS_Common]. 5.12.2.2      Exception      fault      codes      For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.12.3    GET    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: POST’ field in the response as per section 14.7 of [RFC 2616]. 5.12.4    PUT    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: POST’ field in the response as per section 14.7 of [RFC 2616]. 5.12.5    POST    This operation is used to notify client about message arrival.  5.12.5.1 Example 1: Circle area notification (one terminal)  (Informative) 5.12.5.1.1         Request         POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/xml Accept: application/xml Host: application.example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>4444</callbackData> <terminalLocation> <address>tel:+1-555-0100</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  53 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] <latitude>-80.86302</latitude><longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <isFinalNotification>false</isFinalNotification> <link rel=\"CircleNotificationSubscription\" href=\"http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100\"/> </tl:subscriptionNotification> 5.12.5.1.2         Response          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.2 Example 2: Periodic location notification (one terminal)  (Informative) 5.12.5.2.1         Request          POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/xml Accept: application/xml Host: application.example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>1234</callbackData> <terminalLocation> <address>tel:+1-555-0100</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <isFinalNotification>false</isFinalNotification> <link rel=\"PerodicNotificationSubscription\" href=\"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\"/> </tl:subscriptionNotification> 5.12.5.2.2         Response:          OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  54 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.3 Example 3: Distance location notification (one terminal)  (Informative) 5.12.5.3.1         Request          POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/xml Accept: application/xml Host: application.example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>6666</callbackData> <terminalLocation> <address>tel:+1-555-0100</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <distanceCriteria>AllBeyondDistance</distanceCriteria> <isFinalNotification>false</isFinalNotification> <link rel=\"DistanceNotificationSubscription\" href=\"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\"/> </tl:subscriptionNotification> 5.12.5.3.2         Response         HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.4 Example 4: Final periodic location notification  (Informative) 5.12.5.4.1         Request         POST /notifications/LocationNotificationHTTP/1.1Accept: application/xml Content-Type: application/xml Host: application.example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>1234</callbackData> OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  55 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] <terminalLocation><address>tel:+1-555-0100</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <isFinalNotification>true</isFinalNotification> <link rel=\"FinalDistanceNotificationSubscription\" href=\"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\"/> </tl:subscriptionNotification> 5.12.5.4.2         Response:          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.5 Example 5: Subscription cancellation notification  (Informative) 5.12.5.5.1         Request          POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/xml Accept: application/xml Host: application.example.com Content-Length: nnnn <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionCancellationNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>6666</callbackData> <address>tel:+1-555-0100</address> <reason> <messageId>SVC0001</messageId> <text>A service error occurred. %1 %2</text> <variables>Location information is not available for</variables> <variables>tel:+1-555-0100</variables> </reason> <link rel=\"DistanceNotificationSubscription\" href=\"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\"/> </tl:subscriptionCancellationNotification> 5.12.5.5.2         Response          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  56 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] 5.12.6    DELETE    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: POST’ field in the response as per section 14.7 of [RFC 2616].  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  57 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Appendix A. Change History (Informative) A.1    Approved    Version    History    Reference Date Description n/a  n/a No prior version –or- No previous version within OMA A.2    Draft Version 1.1 History  Document Identifier Date Sections Description Draft Versions: OMA-TS-ParlayREST_TerminalLocation-V1_1 29 Oct 2010 All examples Initial version from: OMA-TS-ParlayREST_TerminalLocation-V1_0-20101008-D AD001 duplicate of AD005 All Examples AD002 5.x                           AD003                           D6                           AD004                           D26                         AD006                         D27                         AD007                         D28                         AD008                         5.2.x                        G0022                        02 Nov 2010 editorial Comments from ARC CC 2nd of November 17 Nov 2010 All examples OMA-ARC-REST-2010-0658R01-CR_resFormat_in_Terminal_Location 24 Nov 2010 All examples OMA-ARC-REST-2010-0675R01-CR_CONRR_update_G0050_and_AI_194.doc 30 Nov 2010 2 and A Removed “enabler” and corrected the history appendix Candidate Version: OMA-TS-ParlayREST_TerminalLocation-V1_1 11 Jan 2011 All Status changed to Candidate by TP:   OMA-TP-2010-0531R01-INP_ParlayREST_2_0_for_Candidate_approval OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  58 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Appendix B. Static Conformance Requirements (Normative) The notation used in this appendix is specified in [SCRRULES]. B.1    SCR for ParlayREST.TerminalLocation Server Item Function Reference Requirement PARLAYREST-LOC-SUPPORT-S-001-M Support for the TERMINALLOCATION REST API 5PARLAYREST-LOC-SUPPORT-S-002-M Support for the XML request & response format 5PARLAYREST-LOC-SUPPORT-S-003-M Support for the JSON request & response format 5B.1.1 SCR for ParlayREST.TerminalLocation.TerminalLocation Server Item Function Reference Requirement PARLAYREST-LOC-LOC-S-001-M Support for returning current location of terminals 5.4 PARLAYREST-LOC-LOC-S-002-M Read terminal location information for a single address - GET  5.4.3 PARLAYREST-LOC-LOC-S-003-M Read terminal location information for a group of addresses - GET 5.4.3                                        B.1.2 SCR for ParlayREST.TerminalLocation. TerminalDistanceFromLocation Server Item Function Reference Requirement PARLAYREST-LOC-LOC-DIST-S-001-O Support for returning distance from terminal current location 5.5                       PARLAYREST-LOC-                       LOC-DIST-S-002-O PARLAYREST-LOC- LOC-DIST-S-002-O the distance from current terminal location - GET  5.5.3                                        B.1.3 SCR for ParlayREST.TerminalLocation. PeriodicLocationNotificationSubscriptions Server Item Function Reference Requirement PARLAYREST-LOC-LOC-NOTIF-SUBSCR-S-001-O Support for controlling subscriptions for periodic location notification for a particular client. 5.6                       PARLAYREST-LOC-LOC-NOTIF-SUBSCR-S-003-O PARLAYREST-LOC-LOC-NOTIF-Read all active subscriptions for 5.6.3 OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  59 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Item Function Reference Requirement SUBSCR-S-002-O periodic notifications for the particular client - GET  PARLAYREST-LOC-LOC-NOTIF-SUBSCR-S-003-O Create a new periodic notification subscription for the particular client - POST 5.6.5                                        B.1.4 SCR for ParlayREST.TerminalLocation. IndividualPeriodicNotificationSubscr Server Item Function Reference Requirement PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-001-O Support for controlling individual subscription for periodic location notifications for a particular client. 5.7 PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-002-O Read an individual subscription for periodic location notifications for the particular client.- GET  5.7.3 PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-003-O Update an individual subscription for periodic location notifications for the particular client.- PUT 5.7.4 PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-004-O Delete a subscription for periodic location notifications and stop notifications for a particular client. - DELETE 5.7.6                                        B.1.5 SCR for ParlayREST.TerminalLocation. AreaCircleNotificationSubscriptions Server Item Function Reference Requirement PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-001-O Support for controlling subscriptions for notification about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client. 5.8                       PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-003-O PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-002-O Read all active movement notifications subscriptions for the particular client - GET  5.8.3 OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  60 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Item Function Reference Requirement PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-003-O Create new movement notification subscription for the particular client. - POST 5.8.5                                        B.1.6 SCR for ParlayREST.TerminalLocation. AreaCircleIndividualNotificationSubscription Server Item Function Reference Requirement PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-001-O Support for controlling individual subscription for notifications about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client. 5.9 PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-002-O Read an individual subscription for movement notification for the particular client. - GET  5.9.3 PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-003-O Update the subscription for movement notification for the particular client.- PUT 5.9.4 PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-004-O Delete subscription for movement notifications and stop notifications for the particular client.- DELETE 5.9.6                                        B.1.7 SCR for ParlayREST.TerminalLocation. DistanceNotificationSubscriptions Server Item Function Reference Requirement PARLAYREST-LOC-DIST-NOTIF-SUBSCR-S-001-O Support for controlling subscriptions for notification about changes in the geographical relationships between terminals. 5.10                     PARLAYREST-LOC-DIST-NOTIF-SUBSCR-S-003-O PARLAYREST-LOC-DIST-NOTIF-SUBSCR-S-002-O Read all active distance notifications subscriptions for the particular client.- GET  5.10.3 PARLAYREST-LOC-DIST-NOTIF-SUBSCR-S-003-O Create new distance notification subscription for the 5.10.5                                    OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  61 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Item Function Reference Requirement particular client.- POST B.1.8 SCR for ParlayREST.TerminalLocation. DistanceIndividualNotificationSubscription Server Item Function Reference Requirement PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-001-O Support for controlling individual subscription for notifications about changes in the geographical relationships between terminals. 5.11 PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-002-O Read an individual subscription for distance notification for the particular client.- GET  5.11.3 PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-003-O Update the subscription for distance notification for the particular client - PUT 5.11.4 PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-004-O Delete subscription for distance notifications and stop notifications for the particular client. - DELETE 5.11.6                                    B.1.9 SCR for ParlayREST. TerminalLocation. ClientNotificationCallbackResource Server Item Function Reference Requirement PARLAYREST-LOC-CLIENT-NOTIF-CALLB-S-001-O Support for callback URL for notification about location changes 5.12                     PARLAYREST-LOC-CLIENT-NOTIF-CALLB-S-002-O PARLAYREST-LOC-CLIENT-NOTIF-CALLB-S-002-O Notify client about message arrival - POST 5.12.5                                    OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  62 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Appendix C. Application/x-www-form-urlencoded Request Format for POST Operations (Normative) In all ParlayREST specifications, Appendix C defines a format for API requests where the body of the request is encoded using the application/x-www-form-urlencoded MIME type.  In this particular specification, Appendix C has been intentionally left empty. Note: The use case for x-www-form-urlencoded parameters is the submission of the parameters directly to the REST resource from an HTML form in a web browser. The web browser submits forms using the POST method. Therefore, this section only applies to the POST method. As there are only POST methods for notification defined in this specification, there are no x-www-form-urlencoded parameters to specify.  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  63 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Appendix D. JSON examples (Informative) JSON (JavaScript Object Notation) is a lightweight, text-based, language-independent data interchange format. It provides a simple means to represent basic name-value pairs, arrays and objects. JSON is relatively trivial to parse and evaluate using standard JavaScript libraries, and hence is suited for Parlay REST invocations from browsers or other processors with JavaScript engines. Further information on JSON can be found at [RFC 4627]. The following examples show the request and response for various operations using a JSON binding. The examples follow the XML to JSON serialization rules in [OMA_REST_TS_Common]. A JSON response can be obtained by using the content type negotiation mechanism specified in [OMA_REST_TS_Common]. For full details on the operations themselves please refer to the section number indicated. D.1    Get location single address (section 5.4.3.1) Request: GET /exampleAPI/1/location/queries/location?address=tel%3A%2B1-555-0100&tolerance=LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000 HTTP/1.1 Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT {\"terminalLocationList\": {\"terminalLocation\": { \"address\": \"tel:+1-555-0100\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} D.2    Get location multiple addresses (section 5.4.3.2) Request: GET /exampleAPI/1/location/queries/location?address=tel%3A%2B1-555-0100&address=tel%3A%2B1-555-0101&Tolerance=LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000 HTTP/1.1 Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: nnnn OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  64 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Date: Thu, 04 Jun 2009 02:51:59 GMT{\"terminalLocationList\": {\"terminalLocation\": [ {\"address\": \"tel:+1-555-0100\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }, {\"address\": \"tel:1-555-0101\", \"errorInformation\": { \"messageId\": \"SVC0001\", \"text\": \"A service error occurred. %1 %2\", \"variables\": [ \"Location information is not available for\", \"tel:1-555-0101\" ]}, \"locationRetrievalStatus\": \"Error\" }]}} D.3    Location with unsupported accuracy (section 5.4.3.3) Request:  GET /exampleAPI/1/location/queries/location?resFormat=JSON&address= tel%3A%2B1-555-0100&tolerance=LowDelay&requestedAccuracy=10&acceptableAccuracy=100 HTTP/1.1 Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT {\"requestError\": { \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/queries/location\", \"rel\": \"TerminalLocationList\" }, \"policyException\": { \"messageId\": \"POL0230\", \"text\": \"The requested accuracy %1 is not supported by the policy\", \"variables\": \"10\" }}} OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  65 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] D.4    Location    with    unauthorized    requester    (section    5.4.3.4)    Request:  GET /exampleAPI/1/location/queries/location?requester=tel%3A%2B1-555-0102&address=tel%3A%2B1-555-0100&tolerance=LowDelay&requestedAccuracy=10&acceptableAccuracy=100 HTTP/1.1 Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT {\"requestError\": { \"policyException\": { \"messageId\": \"POL0002\", \"text\": \"Privacy error.\" }}} D.5    Distance between a terminal and a location (section 5.5.3.1)  Request:  GET /exampleAPI/1/location/queries/distance?resFormat=JSON&address=tel%3A%2B1-555-0101&latitude=50&longitude=125 HTTP/1.1Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT  {\"terminalDistance\": {\"distance\": \"100\"}} D.6    Distance between two terminals (section 5.5.3.2) Request:  GET /exampleAPI/1/location/queries/distance?address=tel%3A%2B1-555-0101&address=tel%3A%2B1-555-0102HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  66 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] {\"terminalDistance\": {\"distance\": \"100\"}}D.7    Invalid address (section 5.5.3.3) Request:  GET /exampleAPI/1/location/queries/distance?address=tel%3A%2B+1-555-0199&latitude=50&longitude=125 HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200OKContent-Type: application/json Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT {\"requestError\": { \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/queries/distance\", \"rel\": \"TerminalDistance\" }, \"serviceException\": { \"messageId\": \"SVC0002\", \"text\": \" Invalid input value for message part %1\", \"variables\": \" tel:++1-555-0199\" }}} D.8    Too many addresses (section 5.5.3.4) Request:  GET /exampleAPI/1/location/queries/distance?address=tel%3A%2B+1-555-0199&address=tel%3A%2B+1-555-0198&address=tel%3A%2B1-555-0101  HTTP/1.1 Accept: application/json  Host: example.com Response: HTTP/1.1 400 Bad RequestContent-Type: application/json Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT {\"requestError\": { \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/queries/distance\", \"rel\": \"TerminalDistance\" }, \"policyException\": { \"messageId\": \"POL0003\", \"text\": \" Too many addresses specified in message part %1\", OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  67 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] \"variables\": \"addresses\"}}}D.9    Get periodic notification subscriptions (section 5.6.3) Request:  GET /exampleAPI/1/location/subscriptions/periodic HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"notificationSubscriptionList\": {\"periodicNotificationSubscription\": [ {\"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": \"10\", \"requestedAccuracy\": \"10\", \"resourceURL\": http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0101 \" }, {\"address\": [ \"tel:+1-555-0100\", \"tel:+1-555-0101\" ], \"callbackReference\": { \"callbackData\": \"5678\", \"notifyURL\": \" http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0002\", \"frequency\": \"10\", \"requestedAccuracy\": \"10\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0102\" }]}} D.10  Create new periodic notification subscription, returning a representation of created resource (section 5.6.5.1)  Request:  POST /exampleAPI/1/location/subscriptions/periodic HTTP/1.1Content-Type: application/JSON Accept: application/json  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  68 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Host: example.comContent-Length: nnnn {\"periodicNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": \"10\", \"requestedAccuracy\": \"10\" }} Response: HTTP/1.1 201 CreatedContent-Type: application/json Location: http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"periodicNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": \"10\", \"requestedAccuracy\": \"10\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\" }} D.11  Create new periodic notification subscription, returning the location of created resource (section 5.6.5.2)  Request:  POST ./exampleAPI/1/location/subscriptions/periodic HTTP/1.1Content-Type: application/JSON Accept: application/json  Host: example.com Content-Length: nnnn {\"periodicNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": \"10\", \"requestedAccuracy\": \"10\" }} OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  69 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Response: HTTP/1.1 201 CreatedContent-Type: application/json Location: http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100 Content-Length: nnnn Date: Thu, 04 Jun 2009 02:51:59 GMT {\"resourceReference\": { \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\" }} D.12  Read individual notification subscription (section 5.7.3)  Request:  GET /exampleAPI/1/location/subscriptions/periodic/tel%3A%2B1-555-0100HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/JSON Date: Thu, 04 Jun 2009 02:51:59 GMT {\"periodicNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": \"10\", \"requestedAccuracy\": \"10\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\" }} D.13  Update individual notification subscription (section 5.7.4)  Request:  PUT /exampleAPI/1/location/subscriptions/periodic/tel%3A%2B1-555-0100HTTP/1.1Content-Type: application/json Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"periodicNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  70 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] \"callbackReference\": {\"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": \"60\", \"requestedAccuracy\": \"5\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\" }} Delete a notification subscription (section 5.7.6.1) Request:  DELETE /exampleAPI/1/location/subscriptions/periodic/tel%3A%2B1-555-0100HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT D.14  Read all active area(circle) notification subscriptions (section 5.8.3) Request:  GET /exampleAPI/1/location/subscriptions/area/circle HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"notificationSubscriptionList\": {\"circleNotificationSubscription\": [ {\"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": \"10\", \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0101\", OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  71 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] \"trackingAccuracy\": \"10\"}, {\"address\": [ \"tel:+1-555-0100\", \"tel:+1-555-0101\" ], \"callbackReference\": { \"callbackData\": \"5555\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0004\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\":\"10\", \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0102\", \"trackingAccuracy\": \"10\" }]}} D.15  Create new notification subscription (section 5.8.5) Request:  POST /exampleAPI/1/location/subscriptions/area/circle HTTP/1.1Content-Type: application/json Accept: application/json  Host: example.com Content-Length: nnnn {\"circleNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\":\"10\", \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 201 CreatedContent-Type: application/json Location: http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100 Date: Thu, 04 Jun 2009 02:51:59 GMT  OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  72 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] {\"circleNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": \"10\", \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} D.16  Get individual notification subscription (section 5.9.3)  Request:  GET /exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"circleNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": \"10\", \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} D.17  Update subscription for notification (section 5.9.4) Request:  PUT /exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100HTTP/1.1OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  73 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Content-Type: application/jsonAccept: application/json  Host: example.com Content-Length: nnnn {\"circleNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": \"10\", \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"50\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"circleNotificationSubscription\": { \"address\": \"tel:+1-555-0100\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": \"10\", \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"50\", \"resourceURL\": \"\\http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} D.18  Delete a subscription for area(circle) notification (section 5.9.6)  Request:  DELETE /exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100HTTP/1.1Accept: application/json  Host: example.com Response: OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  74 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT D.19  Read distance notification subscription (section 5.10.3)  Request:  GET /exampleAPI/1/location/subscriptions/distance HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"notificationSubscriptionList\": {\"distanceNotificationSubscription\": [ {\"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": \"10\", \"monitoredAddress\": [ \"tel:+1-555-0101\", \"tel:+1-555-0102\" ], \"referenceAddress\": \"tel:+1-555-0100\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0101\", \"trackingAccuracy\": \"10\" }, {\"callbackReference\": { \"callbackData\": \"7777\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0007\", \"criteria\": \"AnyBeyondDistance\", \"distance\": \"1000\", \"frequency\": \"10\", \"monitoredAddress\": [ \"tel:+1-555-0100\", \"tel:+1-555-0101\", \"tel:+1-555-0102\" ], \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0102\", \"trackingAccuracy\": \"50\" }OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  75 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] ]}}D.20  Create new distance notification (section 5.10.5) Request:  POST /exampleAPI/1/location/subscriptions/distance HTTP/1.1Content-Type: application/json Accept: application/json  Host: example.com Content-Length: nnnn {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": \"10\", \"monitoredAddress\": [ \"tel:+1-555-0101\", \"tel:+1-555-0102\" ], \"referenceAddress\": \"tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 201 CreatedContent-Type: application/json Location: http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": \"10\", \"monitoredAddress\": [ \"tel:+1-555-0101\", \"tel:+1-555-0102\" ], \"referenceAddress\": \"tel:+1-555-0100\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  76 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] D.21  Read a subscription for distance notification (section 5.11.3)  Request:  GET /exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": \"10\", \"monitoredAddress\": [ \"tel:+1-555-0101\", \"tel:+1-555-0102\" ], \"referenceAddress\": \"tel:+1-555-0100\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} D.22  Update a distance notification subscription (section 5.11.4.1)  Request:  PUT /exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100HTTP/1.1Content-Type: application/json Accept: application/json  Host: example.com Content-Length: nnnn {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": \"10\", \"monitoredAddress\": [ OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  77 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] \"tel:+1-555-0101\",\"tel:+1-555-0102\", \"tel:+1-555-0103\" ], \"referenceAddress\": \"tel:+1-555-0100\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": \"10\", \"monitoredAddress\": [ \"tel:+1-555-0101\", \"tel:+1-555-0102\", \"tel:+1-555-0103\" ], \"referenceAddress\": \"tel:+1-555-0100\", \"resourceURL\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\", \"trackingAccuracy\": \"10\" }} D.23  Delete a distance notification subscription (section 5.11.6.1) Request:  DELETE /exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100HTTP/1.1Accept: application/json  Host: example.com Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT D.24  Circle area notification – one terminal (section 5.12.5.1)  Request:  POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/json OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  78 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Accept: application/json Host: application.example.com Content-Length: nnnn {\"subscriptionNotification\": { \"callbackData\": \"4444\", \"enteringLeavingCriteria\": \"Entering\", \"isFinalNotification\": \"false\", \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/subscriptions/area/circle/tel:+1-555-0100\", \"rel\": \"CircleNotificationSubscription\" }, \"terminalLocation\": { \"address\": \"tel:+1-555-0100\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT D.25  Periodic location notification – one terminal (section 5.12.5.2) Request:  POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/json Accept: application/json  Host: application.example.com Content-Length: nnnn {\"subscriptionNotification\": { \"callbackData\": \"1234\", \"isFinalNotification\": \"false\", \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\", \"rel\": \"PerodicNotificationSubscription\" }, \"terminalLocation\": { \"address\": \"tel:+1-555-0100\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  79 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] \"longitude\": \"41.277306\",\"timestamp\": \"2009-06-03T00:27:23.000Z\" },\"locationRetrievalStatus\": \"Retrieved\" }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT D.26  Distance notification – one terminal (section 5.12.5.3) Request:  POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/json Accept: application/json  Host: application.example.com Content-Length: nnnn {\"subscriptionNotification\": { \"callbackData\": \"6666\", \"distanceCriteria\": \"AllBeyondDistance\", \"isFinalNotification\": \"false\", \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\", \"rel\": \"DistanceNotificationSubscription\" }, \"terminalLocation\": { \"address\": \"tel:+1-555-0100\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT D.27  Final periodic location notification (section 5.12.5.4) Request:  POST /notifications/LocationNotificationHTTP/1.1OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  80 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Content-Type: application/jsonAccept: application/json  Host: application.example.com Content-Length: nnnn {\"subscriptionNotification\": { \"callbackData\": \"1234\", \"isFinalNotification\": \"true\", \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/subscriptions/periodic/tel:+1-555-0100\", \"rel\": \"FinalDistanceNotificationSubscription\" }, \"terminalLocation\": { \"address\": \"tel:+1-555-0100\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT D.28  Subscription cancellation notification (section 5.12.5.5) Request:  POST /notifications/LocationNotificationHTTP/1.1Content-Type: application/json Accept: application/json  Host: application.example.com Content-Length: nnnn {\"subscriptionCancellationNotification\": { \"address\": \"tel:+1-555-0100\", \"callbackData\": \"6666\", \"link\": { \"href\": \"http://example.com/exampleAPI/1/location/subscriptions/distance/tel:+1-555-0100\", \"rel\": \"DistanceNotificationSubscription\" }, \"reason\": { \"messageId\": \"SVC0001\", \"text\": \"A service error occurred. %1 %2\", \"variables\": [ \"Location information is not available for\", \"tel:+1-555-0100\" ]}OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  81 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] }}Response: HTTP/1.1 204 No Content Date: Thu, 04 Jun 2009 02:51:59 GMT OMA-TS-ParlayREST_TerminalLocation-V1_1-20110111-C Page  82 (82)  \u00012011 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20110101-I] Appendix E. Parlay X operations mapping (Informative) The table below illustrates the mapping between REST resources/operations and Parlay X equivalent operations. ParlayREST Resource ParlayREST Method ParlayREST Section reference Parlay X equivalent operation Terminal location GET 5.4.3 GetLocation GetLocationForGroup Terminal distance GET 5.5.3                                 GetTerminalDistance                                 Periodic location notification subscriptions POST                  5.6.5                  StartPeriodicNotification                  Individual periodic location notification subscription PUT                     5.7.4                     StartPeriodicNotification                     Individual periodic location notification subscription DELETE              5.7.6              EndNotification              Area (circle) notification subscriptions POST                  5.8.5                  StartGeographicalNotification                  Area (circle) individual notification subscription PUT                     5.9.4                     StartGeographicalNotification                     Area (circle) individual notification subscription DELETE              5.9.6              EndNotification              Distance notification subscriptions POST                  5.10.5                  StartDistanceNotification                  Distance individual notification subscription PUT                     5.11.4                     StartDistanceNotification                     Distance individual notification subscription DELETE              5.11.6              EndNotification              Client notification callback resource POST POST POST POST 5.12.5                               LocationNotification                               DistanceNotification LocationEnd LocationError Table 1 Parlay X operations mapping"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_TerminalStatus-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_TerminalStatus-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Terminal Status API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-08]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-ParlayREST_ThirdPartyCall-V1_0-20110111-C.pdf","file":"OMA-TS-ParlayREST_ThirdPartyCall-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"This specification defines a RESTful Third Party Call API using an HTTP protocol binding, based on the similar API defined in [3GPP 29.199-02]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-TS-REST_Common-V1_0-20110111-C.pdf","file":"OMA-TS-REST_Common-V1_0-20110111-C.pdf","status":"Candidate","version":"V1.0","date":"2011-01-11","contentMediaType":"application/pdf","description":"The scope of this specification is to provide common definitions and specification material for REST interfaces in OMA."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V2_0-20110111-C/OMA-WP-Guidelines_for_REST_API_specifications-20110111-C.pdf","file":"OMA-WP-Guidelines_for_REST_API_specifications-20110111-C.pdf","status":"","version":"","date":"","contentMediaType":"application/pdf","description":"This white paper contains guidelines for REST API specifications developed in OMA."}]}}