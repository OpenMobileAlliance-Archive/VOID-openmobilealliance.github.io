{"input":{"cteatedAt":"2021-02-18T12:42:09.363Z","url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/","host":"www.openmobilealliance.org"},"result":{"data":[{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-ERELD-ParlayREST-V1_0-20100427-C.pdf","file":"OMA-ERELD-ParlayREST-V1_0-20100427-C.pdf","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/pdf","description":"The scope of this document is limited to the Enabler Release Definition of RESTful bindings for Parlay X Web Services (ParlayREST) according to OMA Release process and the Enabler Release specification baseline listed in section 5."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-ERP-ParlayREST-V1_0-20100427-C.zip","file":"OMA-ERP-ParlayREST-V1_0-20100427-C.zip","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/zip"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-SUP-XSD_rest_common-V1_0-20100427-C.xsd","file":"OMA-SUP-XSD_rest_common-V1_0-20100427-C.xsd","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-SUP-XSD_rest_messaging-V1_0-20100427-C.xsd","file":"OMA-SUP-XSD_rest_messaging-V1_0-20100427-C.xsd","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-SUP-XSD_rest_payment-V1_0-20100427-C.xsd","file":"OMA-SUP-XSD_rest_payment-V1_0-20100427-C.xsd","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-SUP-XSD_rest_sms-V1_0-20100427-C.xsd","file":"OMA-SUP-XSD_rest_sms-V1_0-20100427-C.xsd","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-SUP-XSD_rest_terminallocation-V1_0-20100427-C.xsd","file":"OMA-SUP-XSD_rest_terminallocation-V1_0-20100427-C.xsd","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/xml"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-TS-ParlayREST_Common-V1_0-20100427-C.pdf","file":"OMA-TS-ParlayREST_Common-V1_0-20100427-C.pdf","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/pdf","description":"The scope of this specification is to specify an HTTP protocol binding for the set of Parlay X Web Services specifications in OMA, using REST architectural style. The specification defines an HTTP protocol binding for an abstract API, based on existing OMA enablers."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-TS-ParlayREST_MultiMediaMessaging-V1_0-20100427-C.pdf","file":"OMA-TS-ParlayREST_MultiMediaMessaging-V1_0-20100427-C.pdf","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/pdf","description":"This specification defines an HTTP protocol binding for an abstract API using the REST architectural style, based on existing OMA enabler namely the Multi Media Messaging Service, as defined in [3GPP 29.199-5]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-TS-ParlayREST_OneAPIProfile-V1_0-20100427-C.pdf","file":"OMA-TS-ParlayREST_OneAPIProfile-V1_0-20100427-C.pdf","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/pdf","description":"This specification provides the mapping between the OneAPI profile of Parlay X Web Services [PXPROF] and the corresponding RESTful bindings of Parlay X Web Services [REST_ERP].  The OneAPI profile of Parlay X Web Services specifies profile of a subset of the existing Parlay X SOAP Web Service specifications. This specification contains tables, with information, on what interfaces are mandated in the profile that must be implemented in order to claim that the instance complies with the profile.  The GSMA OneAPI project is addressing deployment and operational considerations for 3rd party applications, and is re-using a subset of the Parlay X and ParlayREST Web Services APIs for this. It aims to reduce the effort and time needed to create applications and content that is portable across mobile operators."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-TS-ParlayREST_Payment-V1_0-20100427-C.pdf","file":"OMA-TS-ParlayREST_Payment-V1_0-20100427-C.pdf","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/pdf","description":"This specification defines an HTTP protocol binding for an abstract API using the REST architectural style , based on existing OMA enabler namely the Payment part, as defined in [3GPP 29.199-6]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-TS-ParlayREST_ShortMessaging-V1_0-20100427-C.pdf","file":"OMA-TS-ParlayREST_ShortMessaging-V1_0-20100427-C.pdf","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/pdf","description":"This specification defines an HTTP protocol binding for an abstract API using the REST architectural style, based on an existing OMA enabler namely the Short Messaging Service, as defined in [3GPP 29.199-4]."},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C.pdf","file":"OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C.pdf","status":"Candidate","version":"V1.0","date":"2010-04-27","contentMediaType":"application/pdf","description":"This specification defines an HTTP protocol binding for an abstract API using the REST architectural style, based on existing OMA enabler namely the Terminal Location, as defined in [3GPP 29.199-9].  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  9 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 2.  References  2.1     Normative     References      [3GPP 29.199-9] 3rd Generation Partnership Project; Technical Specification Group Core Network and Terminals; Open Service Access (OSA); Parlay X Web Services; Part 9: Terminal Location (Release 7); 3GPP TS 29.199-9 URL:http://www.3gpp.org/ [REST_TS_Common] “RESTful bindings for Parlay X Web Services – Common”, Open Mobile Alliance™, OMA-TS-ParlayREST_Common-V1_0, URL:http://www.openmobilealliance.org/[RFC2119] “Key words for use in RFCs to Indicate Requirement Levels”, S. Bradner, March 1997, URL:http://www.ietf.org/rfc/rfc2119.txt[RFC2616] “Hypertext Transfer Protocol -- HTTP/1.1”, R. Fielding et. al, January 1999, URL:http://www.ietf.org/rfc/rfc2616.txt[RFC4627] “The application/json Media Type for JavaScript Object Notation (JSON)”, D. Crockford, July 2006, URL:http://www.ietf.org/rfc/rfc4627.txt[SCRRULES] “SCR Rules and Procedures”, Open Mobile Alliance™, OMA-ORG-SCR_Rules_and_Procedures, URL:http://www.openmobilealliance.org/ [W3C-URLENC] W3C HTML 2.0 Specification, form-urlencoded Media Type, URL: http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.2.1 [XMLSchema1] W3C Recommendation, XML Schema Part 1: Structures Second Edition, URL: http://www.w3.org/TR/xmlschema-1/[XMLSchema2] W3C Recommendation, XML Schema Part 2: Datatypes Second Edition, URL: http://www.w3.org/TR/xmlschema-2/2.2     Informative     References     [OMADICT] “Dictionary for OMA Specifications”, Version 2.7, Open Mobile Alliance™, OMA-ORG-Dictionary-V2_7, URL:http://www.openmobilealliance.org/ [REST_WP] “White Paper on Guidelines for ParlayREST API specifications”, Open Mobile Alliance™, OMA-WP-Guidelines-for-ParlayREST-API-specifications, URL:http://www.openmobilealliance.org/\u0001 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  10 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 3.  Terminology and Conventions 3.1     Conventions     The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in [RFC2119]. All sections and appendixes, except “Scope” and “Introduction”, are normative, unless they are explicitly indicated to be informative. 3.2     Definitions     For the purpose of this TS, all definitions from the OMA Dictionary apply [OMA-DICT].  3.3     Abbreviations      API Application Programming Interface HTTP HyperText Transfer Protocol JSON JavaScript Object Notation OMA Open Mobile Alliance REST REpresentational State Transfer SCR Static Conformance Requirements URI  Uniform Resource Identifier  URL Uniform Resource Locator XML Extensible Markup Language OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  11 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 4.  Introduction  The ParlayREST Technical Specification for Terminal Location contains the HTTP protocol binding for the Parlay X Terminal Location Web Services specification, using the REST architectural style. The specification provides resource definitions, the HTTP verbs applicable for each of these resources, and the element data structures, as well as support material including flow diagrams and examples using the various supported message body formats (i.e. XML and JSON).  4.1     Version     1.0     Version 1.0 of the Terminal Location ParlayREST API specification supports the following operations: -Obtain the current terminal location -Obtain the terminal distance from a given location -Obtain the distance between two terminals -Manage client-specific subscriptions to periodic notifications -Manage client-specific subscriptions to area (circle) notifications -Manage client-specific subscriptions to distance notifications OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  12 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.  Terminal Location API definition This section is organized to support a comprehensive understanding of the TerminalLocation API design. It specifies the definition of all resources, definition of all data structures, and definitions of all operations permitted on the specified resources. Common data types, naming conventions, fault definitions and namespaces are defined in [REST_TS_Common]. The remainder of this document is structured as follows: Section 5 starts with a table listing all the resources (and their URL) used by this API, along with the data structure and the supported HTTP verbs (section 5.1). In addition, for each supported resource/verb combination, the table lists the Parlay X equivalent operation, where applicable. What follows are the data structures, divided by root elements and their child elements (section 5.2). A sample of typical use cases is included in section 5.3, described as high level flow diagrams. The remaining subsections in section 5 contain the detailed specification for each of the resources. Each such subsection defines the resource, the request URI variables that are common for all HTTP commands, the possible HTTP response codes, and the supported HTTP verbs. For each supported HTTP verb, a description of the functionality is provided, along with an example of a request and an example of a response. For each unsupported HTTP verb, the returned HTTP error status is specified, as well as what should be returned in the Allow header. All examples in section 5 use XML as the format for the message body. JSON examples are provided in Appendix C. Appendix B provides the Static Conformance Requirements (SCR).  Note: Throughout this document client and application can be used interchangeably.  5.1     Resource     Summary     This section summarizes all the resources used by the TerminalLocation API.  The figure below visualizes the resource structure defined by this specification. Note that those nodes in the resource tree which have associated HTTP methods defined in this specification are depicted by solid boxes.  Figure 1 Resource structure defined by this specification  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  13 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] The following table gives a detailed overview of the resources defined in this specification, the data type of their representation and the allowed HTTP methods.  Note: The “PX” row indicates the Parlay X SOAP equivalent operation. Purpose: poll terminal location and terminal distance  Resource (Purpose) URL Base URL: http://{serverRoot}/{apiVersion}/location Data Structures HTTP verbs GET POST PUT DELETE Terminal location /queries/location?address={terminalId}... /queries/location?address={terminalId1}&address={terminalId2}...  TerminalLocationList  return current location of the terminal or multiple terminals no                no                 no                PX: GetLocationGetLocationForGroup  Terminal distance /queries/distance?address={terminalId}&latitude={lat}&longitude={lon} or /queries/distance?address={terminalId1}&address={terminalId2}  TerminalDistance return current distance from terminal to the specified location or between two terminals no                no                 no                PX: GetTerminalDistance  Purpose: location subscription Resource (Purpose) URL Base URL: http://{serverRoot}/{apiVersion}/location Data Structures HTTP verbs GET POST PUT DELETE Periodic location notification subscriptions /subscriptions/periodic NotificationSubscriptionList PeriodicNotificationSubscription return all subscriptions create new subscription no                no                No PX equivalent PX: StartPeriodicNotification  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  14 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Resource (Purpose) URL Base URL: http://{serverRoot}/{apiVersion}/location Data Structures HTTP verbs GET POST PUT DELETE Individual periodic location notification subscription /subscriptions/periodic/{subscriptionId} PeriodicNotificationSubscription return one subscriptionno                 update                 subscription delete one subscription No PX equivalent                      PX:                     StartPeriodicNotification PX: EndNotification Area (circle) notification subscriptions /subscriptions/area/circle NotificationSubscriptionList CircleNotificationSubscription return all subscriptions create new subscription no                no                No PX equivalent PX: StartGeographicalNotification  Area (circle) individual notification subscription /subscriptions/area/circle/{subscriptionId} CircleNotificationSubscription return one subscriptionno                 update                 subscription delete one subscription No PX equivalent                      PX:                     StartGeographicalNotification PX: EndNotification Distance notification subscriptions /subscriptions/distance  NotificationSubscriptionList DistanceNotificationSubscription return all subscriptions create new subscription no                no                No PX equivalent PX: StartDistanceNotification  Distance individual notification subscription /subscriptions/distance/{subscriptionId}  DistanceNotificationSubscription return one subscriptionno                 update                 subscription delete one subscription No PX equivalent                      PX:                     StartDistanceNotification PX: EndNotification OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  15 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Purpose: client notification Resource (Purpose) URL <provided by the client> Data Structures HTTP verbs GET POST PUT DELETE Client notification callback resource {provided by client} SubscriptionNotificationSubscriptionCancelNotification no                   yes                   no                   no                   PX: LocationNotification DistanceNotificationLocationEnd LocationError 5.2     Terminal Location Data Structures The namespace for the Terminal Location data types is:  urn:oma:xml:rest:terminallocation:1 The 'xsd' namespace is used in the present document to refer to the XML Schema data types defined in XML Schema [XMLSchema1, XMLSchema2]. The 'common' namespace is used in the present document to refer to the data types defined in [REST_TS_Common]. The use of the names 'xsd' and ‘common’ is not semantically significant.  5.2.1      Type:      TerminalLocation      Element Type Optional Description address xsd:anyURI No Address of the terminal device to which the location information applies locationRetrievalStatus LocationRetrievalStatus No Status of retrieval for this terminal device address currentLocation LocationInfo Yes Location of terminal. It is only provided if locationRetrievalStatus=Retrieved. errorInformation                 common:ServiceException Yes If locationRetrievalStatus=Error, this is the reason for the error.  5.2.2      Type:      TerminalLocationList      Element Type Optional Description terminalLocation TerminalLocation [1..unbounded] No Collection of the terminal locations A root element named terminalLocationList of type TerminalLocationList is allowed in request and/or response bodies.  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  16 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.2.3      Type:      SubscriptionNotification      Element Type Optional Description callbackData                      xsd:string                      Yes                      CallbackData if passed by the application in the receiptRequest element during the associated Send SMS operation. See [REST_TS_Common], section 6.2.4. terminalLocation                TerminalLocation                [1..unbounded] No Collection of the terminal locations enteringLeavingCriteria EnteringLeavingCriteria Yes Indicates whether the notification was caused by the terminal entering or leaving the target area. (This part is provided for geographical notifications) distanceCriteria                  DistanceCriteria                  Yes                  Indicates                  which                  distance                  criteria                  that                  caused                  the notification. (This part is provided for distance notifications) isFinalNotification xsd:boolean Yes Will be set to true if it is a final notification about location change link                                     common:Link                                     [0..unbounded] Yes Link to other resources that are in relationship with  the resource A root element named subscriptionNotification of type SubscriptionNotification is allowed in request and/or response bodies.  5.2.4      Type:      SubscriptionCancellationNotification      Element  Type OptionalDescription callbackData          xsd:string          Yes          CallbackData if passed by the application in the receiptRequest element during the associated Send SMS operation. See [REST_TS_Common], section 6.2.4. address xsd:anyURI Yes Address of terminal if the error applies to an individual terminal, or not specified if it applies to the whole notification. reason common:ServiceException No Reason notification is being discontinued. link common:Link[0..unbounded] Yes Link to other resources that are in relationship with  the resource A root element named subscriptionCancellationNotification of type SubscriptionCancellationNotification is allowed in request and/or response bodies.  5.2.5      Type:      TerminalDistance      Element  Type Optional Description  distance xsd:int No Distance from terminal to a location or between two terminals specified in meters accuracy xsd:int Yes Accuracy of the provided distance in meters timestamp                xsd:dateTime Yes Date and time that location from which distance is calculated was collected OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  17 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] A root element named terminalDistance of type TerminalDistance is allowed in request and/or response bodies.  5.2.6      Type:      LocationInfo      Element  Type Optional Description latitude                  xsd:float                  No                  Location                  latitude                  longitude               xsd:float               No                Location               longitude               altitude                  xsd:float                  Yes                  Location                  altitude                  accuracy xsd:int No Accuracy of location provided in meters timestamp xsd:dateTime    No Date and time that location was collected A root element named locationInfo of type LocationInfo is allowed in request and/or response bodies.  5.2.7      Type:      NotificationSubscriptionList      Element  Type OptionalDescription circleNotificationSubscription         CircleNotificationSubscription         [0..unbound] Yes           Collection           of           CircleNotificationSubscription elements periodicNotificationSubscription     PeriodicNotificationSubscription[0..unbound] Yes           Collection           of           PeriodicNotificationSubscription elements distanceNotificationSubscriptionDistanceNotificationSubscription[0..unbound] Yes           Collection           of           DistanceNotificationSubscription elements A root element named notificationSubscriptionList of type NotificationSubscriptionList is allowed in request and/or response bodies.  5.2.8      Type:      CircleNotificationSubscription      Element  Type Optional Description clientCorrelator xsd:string Yes A correlator that the client MAY use to tag this particular resource representation during a request to create a resource on the server. In case the field is present, the server SHALL not alter its value, and SHALL provide it as part of the representation of this resource. In case the field is not present, the server SHALL NOT generate it. resourceURL xsd:anyURI Yes Link to the resource link                                    common:Link[0..unbounded]Yes Link to other resources that are in relationship with  the resource callbackReference common:CallbackReference    No Notification callback definition address xsd:anyURI [1..unbounded] No Addresses of terminals to monitor. Reference to the group could be provided here if supported by implementation latitude                              xsd:float                              No                              Latitude                              of                              center                              point                              OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  18 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Element  Type Optional Description longitude xsd:float No Longitude of center point radius xsd:float No Radius of circle around center point in meterstrackingAccuracy xsd:float No Number of meters of acceptable error in tracking distance enteringLeavingCriteriaEnteringLeavingCriteria No Indicates whether the notification should occur when the terminal enters or leaves the target area checkImmediate xsd:boolean No Check location immediately after establishing notification frequency common:TimeMetric No Maximum frequency of notifications per subscriber (can also be considered minimum time between notifications) duration common:TimeMetric Yes Period of time notifications are provided for. If set to “0” (zero), a default duration time, which is specified by the service policy, will be used. If the parameter is omitted, the notifications will continue until the maximum duration time, which is specified by the service policy, unless the notifications are stopped by deletion of subscription for notifications  count xsd:int Yes Maximum number of notifications per individual address.  For no maximum, either do not specify this part or specify a value of zero. Default value is 0. A root element named circleNotificationSubscription of type CircleNotificationSubscription is allowed in request and/or response bodies. Note that the clientCorrelator is used for purposes of error recovery as specified in section 5.6.1 of [REST_TS_Common], and internal client purposes. The server is NOT REQUIRED to use the clientCorrelator value in any form in the creation of the URL of the resource. Section 5.6.1 of [REST_TS_Common] provides a recommendation regarding the generation of the value of this field.  5.2.9      Type:      PeriodicNotificationSubscription      Element  Type OptionalDescription clientCorrelator xsd:string Yes A correlator that the client MAY use to tag this particular resource representation during a request to create a resource on the server. In case the field is present, the server SHALL not alter its value, and SHALL provide it as part of the representation of this resource. In case the field is not present, the server SHALL NOT generate it. resourceURL xsd:anyURI Yes Link to the resource link                             common:Link[0..unbounded]Yes Link to other resources that are in relationship with  the resource callbackReference common:CallbackReference    No Notification callback definition address xsd:anyURI [1..unbounded] No Addresses of terminals to monitor requestedAccuracyxsd:int No Accuracy of the provided distance in meters  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  19 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Element  Type OptionalDescription frequency common:TimeMetric No Maximum frequency of notifications (can also be considered minimum time between notifications) duration common:TimeMetric Yes Period of time notifications are provided for. If set to “0” (zero), a default duration time, which is specified by the service policy, will be used. If the parameter is omitted, the notifications will continue until the maximum duration time, which is specified by the service policy, unless the notifications are stopped by deletion of subscription for notifications A root element named periodicNotificationSubscription of type PeriodicNotificationSubscription is allowed in request and/or response bodies. Note that the clientCorrelator is used for purposes of error recovery as specified in section 5.6.1 of [REST_TS_Common], and internal client purposes. The server is NOT REQUIRED to use the clientCorrelator value in any form in the creation of the URL of the resource. Section 5.6.1 of [REST_TS_Common] provides a recommendation regarding the generation of the value of this field.  5.2.10    Type:    DistanceNotificationSubscription    Element  Type Optional Description clientCorrelator xsd:string Yes A correlator that the client MAY use to tag this particular resource representation during a request to create a resource on the server. In case the field is present, the server SHALL not alter its value, and SHALL provide it as part of the representation of this resource. In case the field is not present, the server SHALL NOT generate it. resourceURL xsd:anyURI Yes Link to the resource link                              common:Link                              [0..unbounded] Yes Link to other resources that are in relationship with  the resource callbackReference      common:CallbackReference No             Notification             callback             definition             referencesAddress     xsd:anyURI      [0..unbounded] Yes If specified, indicates address of each device that will be used as reference devices from which the distances towards monitored devices indicated in the Addresses will be monitored. monitoredAddress      xsd:anyURI       [1..unbounded] No Contains addresses of devices to monitor. If the ReferenceAddress is specified, then the distance between each monitored device and reference device(s) will be monitored.  If the ReferenceAddress is not present, then the distance between each of the monitored devices will be monitored. Note that in that case there must be at least two addresses specified here. distance xsd:float No Distance between devices that shall be monitored trackingAccuracy xsd:float No Number of meters of acceptable error in tracking distance criteria DistanceCriteria No Indicates whether the notification should occur when the geographical relationship between monitored and referenced devices changes. checkImmediate xsd:boolean No Check location immediately after establishing OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  20 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Element  Type Optional Description notification frequency common:TimeMetric No Maximum frequency of notifications per subscriber (can also be considered minimum time between notifications) duration common:TimeMetric Yes Period of time notifications are provided for. If set to “0” (zero), a default duration time, which is specified by the service policy, will be used. If the parameter is omitted, the notifications will continue until the maximum duration time, which is specified by the service policy, unless the notifications are stopped by deletion of subscription for notifications count xsd:int Yes Maximum number of notifications per individual address.  For no maximum, either do not specify this part or specify a value of zero. Default value is 0. A root element named distanceNotificationSubscription of type DistanceNotificationSubscription is allowed in request and/or response bodies. Note that the clientCorrelator is used for purposes of error recovery as specified in section 5.6.1 of [REST_TS_Common], and internal client purposes. The server is NOT REQUIRED to use the clientCorrelator value in any form in the creation of the URL of the resource. Section 5.6.1 of [REST_TS_Common] provides a recommendation regarding the generation of the value of this field.  5.2.11    Enumeration:    EnteringLeavingCriteria    EnumerationDescription Entering Terminal is entering an area Leaving Terminal is leaving an area 5.2.12    Enumeration:    LocationRetrievalStatus    Enumeration Description Retrieved Location retrieved, with result in currentLocation element NotRetrieved Location not retrieved, currentLocation is not provided (does not indicate an error, no attempt may have been made) Error                      Error                      retrieving                      location                      5.2.13    Enumeration:    DistanceCriteria    Enumeration Description AllWithinDistance All monitored devices are within the specified distance AnyWithinDistance Any of monitored devices gets within the specified distance AllBeyondDistance All monitored devices are beyond the specified distance AnyBeyondDistanceAny of monitored devices gets beyond the specified distance OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  21 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.2.14    Enumeration:    DelayTolerance    Enumeration Description NoDelay The server should immediately return any location estimate that it currently has. If no estimate is available, the server shall return the failure indication and may optionally initiate procedures to obtain a location estimate (e.g. to be available for a later request). LowDelay Fulfilment of the response time requirement takes precedence over fulfilment of the accuracy requirement. The server shall return any current location estimate with minimum delay. The server shall attempt to fulfil any accuracy requirement, but in doing so shall not add any additional delay (i.e. a quick response with lower accuracy is more desirable than waiting for a more accurate response). DelayTolerant Fulfilment of the accuracy requirement takes precedence over fulfilment of the response time requirement. If necessary, the server should delay providing a response until the accuracy requirement of the requesting application is met. The server shall obtain a current location with regard to fulfilling the accuracy requirement. 5.2.15    Values of the Link “rel” attribute The “rel” attribute of the Link element is a free string set by the server implementation, to indicate a relationship between the current resource and an external resource. The following are possible strings (list is non-exhaustive, and can be extended): •TerminalLocationList •TerminalDistance •NotificationPeriodicSubscriptionList •NotificationCircleSubscriptionList •NotificationDistanceSubscriptionList •SubscriptionNotification •SubscriptionCancellationNotification •LocationInfo •CircleNotificationSubscription •PeriodicNotificationSubscription •DistanceNotificationSubscription These values indicate the kind of resource that the link points to. 5.3     Sequence     diagrams     5.3.1      Location      query      This figure below shows a scenario to return location for single terminal or group of terminals. The resource: -To get the location information for a single terminal or a group of terminals, read the resource below with the URL parameters terminal address or addresses http://{serverRoot}/{apiVersion}/location/queries/location   OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  22 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 1. GET: request single or multiples terminal locationApplicationApplicationResponse : terminal locationRetrieve terminal locationServerServer Figure 2Location query  Outline of flow: 1. An application requests single or multiples terminal location with Request URL parameters such as terminal address or addresses (i.e. group) and desired accuracy using GET and receives the terminal location information.  5.3.2 Distance from location query This figure below shows a scenario to return the distance of a terminal from a location. The resource: To get the distance between a terminal and a geographical location, read the resource below, while passing appropriate query parameters http://{serverRoot}/{apiVersion}/location/queries/distance  1. GET: request single terminal  distanceApplicationApplicationResponse : terminal  d istanceRetrieve terminal distanceServerServer Figure 3Distance from location query OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  23 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Outline of flow: 1. An application requests the distance between a terminal and a geographical location by using GET with resource URL and request URL parameters such as terminal address and longitude/latitude of the geographical location. It receives the terminal distance information.  5.3.3 Distance between two terminals query This figure below shows a scenario to return the distance between two terminals. The resource: -To get the distance between two terminals, read the resource below, while passing appropriate query parameters http://{serverRoot}/{apiVersion}/location/queries/distance Figure 4Distance between two terminals query  Outline of flow: 1. An application requests the distance between two terminals by using GET with the resource URL and providing two different terminal addresses as Request URL parameters. It receives the terminal distance information.  5.3.4 Periodic location notification This figure below shows a scenario to control subscriptions for periodic notifications about terminal location for a particular client. The resource: -To start subscription to periodic notifications about terminal location for a particular client, create new resource under  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic -To update or delete an individual subscription for periodic notifications about terminal location for a particular client, use the resource  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId} OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  24 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 1. POST: create new periodic notification subscription2. POST: notify new location information3. PUT: update an individual subscription with subscription id5. DELETE: delete subscription with subscription id4. POST: notify new location informationResponse : periodic notification subscription with subscription idApplicationApplicationServerServerTimer expirationTimer expirationResponseResponseResponseResponse Figure 5Periodic location notification  Outline of flow: 1. An application creates a new periodic notification subscription for the particular client by using POST and receives the resulting resource URL containing the subscriptionId. 2. When the set up timer expires, the REST service on the server notifies the application of current location information using POST to the application supplied notifyURL. This is repeated each time interval. 3. An application updates an individual subscription for periodic location notification for the particular client by using PUT to resource URL containing the subscriptionId. 4. When the set up timer expires, the REST service on the server notifies the application of current location information using POST to the application supplied notifyURL. This is repeated each time interval. 5. An application deletes a subscription for periodic location notification and stop notifications for a particular client by using DELETE to resource URL containing the subscriptionId.  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  25 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.3.5 Area (circle) location notification This figure below shows a scenario to control subscriptions for notification about terminal movement in relation to the geographic area (circle), crossing in and out, for a particular client. The resource: -To start subscription to notifications about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client, create new resource under http://{server root}/{api version}/location/subscriptions/area/circle -To update or delete an individual subscription for notifications about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client, use the resource  http://{server root}/{api version}/location/subscriptions/area/circle/{subscriptionId}  1. POST: create new area (circle) location notification subscription2. POST: notify new location information3. PUT: update an individual subscription with subscription id5. DELETE: delete the  subscription with subscription id4. POST: notify new location informationResponse : area (circle) location notification subscription with subscription idApplicationApplicationServerServerResponseResponseResponseResponseTerminal cross in areaTerminal cross in area Figure 6Area (circle) location notification  Outline of flow: 1. An application creates a new area (circle) notification subscription for the particular client by using POST and receives the resulting resource URL containing the subscriptionId.  2. When the terminal crosses in or out the specified area (circle) the REST service on the server notifies the application using POST to the application supplied notifyURL.  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  26 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 3. An application updates an individual subscription for area (circle) notification for the particular client by using PUT to resource URL containing the subscriptionId. 4. When the terminal crosses in or out the updated specified area (circle) the REST service on the server notifies the application using POST to the application supplied notifyURL.  5. An application deletes a subscription for area (circle) notification and stop notifications for the particular client by using DELETE to resource URL containing the subscriptionId.  5.3.6 Distance location notification This figure below shows a scenario to control subscriptions for notifications about changes in the geographical relationships between terminals (a client has passed a border by either approaching or leaving another referenced client). The resource and operation used -To start subscription to notifications about changes in the geographical relationships between terminals, create new resource under  http://{serverRoot}/{apiVersion}/location/subscriptions/distance -To update or delete an individual subscription for notifications about changes in the geographical relationships between terminals for a particular client, use the resource  http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  27 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 1. POST: create new distance notification subscription2. POST: notify new location information3. PUT: update an individual subscription with subscription id5. DELETE: delete the  subscription with subscription id4. POST: notify new location informationResponse : distance notification subscription with subscription idApplicationApplicationServerServerResponseResponseResponseResponseTerminal close to other terminalTerminal close to other terminal Figure 7Distance location notification  Outline of flow: 1. An application creates a new distance notification subscription for the particular client by using POST and receives the resulting resource URL containing the subscriptionId. 2. When a terminal passes the border by either approaching or leaving the referenced terminal, the REST service on the server notifies the application by using POST to the application supplied notifyURL. 3. An application updates an individual subscription for distance notification for the particular terminal by using PUT to resource URL containing the subscriptionId. 4. When a terminal passes the border by either approaching or leaving the referenced terminal, the REST service on the server notifies the application by using POST to the application supplied notifyURL.  5. An application deletes a subscription for distance notification and stop notifications for the particular client by using DELETE to resource URL containing the subscriptionId.  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  28 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.4     Resource:     Terminal     Location     The resource used is:  http://{serverRoot}/{apiVersion}/location/queries/location  This resource is used to return location for single terminal or group of terminals. 5.4.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.4.2      Response      codes      5.4.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.4.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.4.3      GET      This operation is used to read terminal location information.  Note: ParlayX SOAP equivalents are GetLocation, GetLocationForGroup  Request URL parameters are:  Name Type/value Optional Description address                       xsd:anyURI[1..unbounded]No Address(es) of the terminal device(s) for which the location information is requested requestedAccuracy xsd:int No Accuracy of location information requested acceptableAccuracyxsd:int No Accuracy that is acceptable for a response maximumAge common:TimeMetric Yes Maximum acceptable age of the location information that is returned responseTime common:TimeMetric Yes Indicates the maximum time that the application can accept to wait for a response tolerance DelayTolerance No Indicates the priority of response time versus accuracy OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  29 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.4.3.1 Example 1: (one terminal address)  (Informative) 5.4.3.1.1           Request            GET ../{apiVersion}/location/queries/location?resFormat=XML&address=tel:16309700001&tolerance=LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000 HTTP/1.1 Host: example.com:80 5.4.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalLocationList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <terminalLocation> <address>tel:16309700001</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> </tl:terminalLocationList> 5.4.3.2 Example 2: (multiple terminal addresses) (Informative) 5.4.3.2.1           Request            GET ../{apiVersion}/location/queries/location?resFormat=XML&address=tel:16309700001&address= tel:16309700002&Tolerance=LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000 HTTP/1.1 Host: example.com:80 5.4.3.2.2           Response            OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  30 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] HTTP/1.1 200 OKX-Powered-By: Servlet/2.5 Server: Example/v3 Content-Type: application/xml Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalLocationList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\" ><terminalLocation> <address>tel:16309700001</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <terminalLocation> <address>tel:16309700002</address> <locationRetrievalStatus>Error</locationRetrievalStatus> <errorInformation> <serviceException> <messageId>SVC0001</messageId> <text>A service error occurred. %1 %2</text> <variables>Location information is not available for</variables> <variables>tel:16309700002</variables> </serviceException> </errorInformation> </terminalLocation> </tl:terminalLocationList> 5.4.3.3 Example 3: (location with unsupported accuracy) (Informative) 5.4.3.3.1           Request            GET ../{apiVersion}/location/queries/location?resFormat=XML&address= tel:16309700001&tolerance=LowDelay&requestedAccuracy=10&acceptableAccuracy=100 HTTP/1.1 Host: example.com:80 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  31 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.4.3.3.2           Response            HTTP/1.1 400 Bad RequestContent-Type: application/xml Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <common:requestError xmlns:common=\"urn:oma:xml:rest:common:1\"> <link rel=\"TerminalLocationList\" href=\"http://{serverRoot}/{apiVersion}/location/queries/location\"/> <policyException> <messageId>POL0230</messageId> <text>The requested accuracy %1 is not supported by the policy</text> <variables>10</variables> </policyException> </common:requestError> 5.4.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616].  5.4.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616].  5.4.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616].  5.5     Resource:     Terminal     distance     The resource used is:  http://{serverRoot}/{apiVersion}/location/queries/distance  This resource is used to return distance between either: •A terminal and a geographical location. •Two terminals  5.5.1 Request URI variables The following request URI variables are common for all HTTP commands: OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  32 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.5.2      Response      codes      5.5.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.5.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9].  5.5.3      GET      This operation is used to return the distance between either: •A terminal and a geographical location. •Two terminals  Note: ParlayX SOAP equivalent is GetTerminalDistance. Request URL parameters are: Name Type/value Optional Description address       xsd:anyURI[1..2]No One or two terminal addresses of terminal to check.  The second “address” parameter SHALL NOT be used when the distance between a terminal and a location is requested. latitude xsd:float Yes Latitude of the location to measure from. SHALL NOT be used when the distance between two terminals is requested. longitude xsd:float Yes Longitude of the location to measure from. SHALL NOT be used when the distance between two terminals is requested. 5.5.3.1 Example 1: (distance between a terminal and a location)  (Informative) 5.5.3.1.1           Request            GET ../{apiVersion}/location/queries/distance?resFormat=XML&address=tel:+16309700002&latitude=50&longitude=125 HTTP/1.1Host: example.com:80 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  33 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.5.3.1.2           Response:            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalDistance xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <distance>100</distance> </tl:terminalDistance> 5.5.3.2 Example 2:  (distance between two terminals)  (Informative) 5.5.3.2.1           Request            GET ../{apiVersion}/location/queries/distance?resFormat=XML&address=tel:+16309700002& address=tel:+16309700003 HTTP/1.1Host: example.com:80 5.5.3.2.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:terminalDistance xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <distance>100</distance> </tl:terminalDistance> 5.5.3.3 Example 3: (invalid address)  (Informative) 5.5.3.3.1           Request                       GET ../{apiVersion}/location/queries/distance?resFormat=XML&address=tel:+016309700000&latitude=50&longitude=125 HTTP/1.1Host: example.com:80 5.5.3.3.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  34 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <?xml version=\"1.0\" encoding=\"UTF-8\"?> <common:requestError xmlns:common=\"urn:oma:xml:rest:common:1\"> <link rel=\"TerminalDistance\" href=\"http://{serverRoot}/{apiVersion}/location/queries/distance\"/> <serviceException> <messageId>SVC0002</messageId> <text> Invalid input value for message part %1</text> <variables> tel:+016309700000</variables> </serviceException> </common:requestError> 5.5.3.4 Example 4: (too many addresses)  (Informative) 5.5.3.4.1           Request            GET ../{apiVersion}/location/queries/distance?resFormat=XML&address=tel:+016309700000&address=tel:+16309700001&address=tel:+16309700002  HTTP/1.1 Host: example.com:80 5.5.3.4.2           Response            HTTP/1.1 400 Bad RequestContent-Type: application/xml Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <common:requestError xmlns:common=\"urn:oma:xml:rest:common:1\"> <link rel=\"TerminalDistance\" href=\"http://{serverRoot}/{apiVersion}/location/queries/distance\"/> <policyException> <messageId>POL0003</messageId> <text> Too many addresses specified in message part %1</text> <variables>addresses</variables> </policyException> </common:requestError> 5.5.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. 5.5.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  35 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.5.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET’ field in the response as per section 14.7 of [RFC 2616]. 5.6     Resource: Periodic location notification subscriptions The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic  This resource is used to control subscriptions for periodic location notification for a particular client.  5.6.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.6.2      Response      codes      5.6.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.6.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.6.3      GET      Read all active subscriptions for periodic location notifications for the particular client. Note: No equivalent ParlayX SOAP API. No URL parameters. 5.6.3.1        Example                (Informative)        5.6.3.1.1           Request            GET .../{apiVersion}/location/subscriptions/periodic?resFormat=XMLHTTP/1.1Host: example.com:80 5.6.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  36 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Date: Thu, 04 Jun 2009 02:51:59 GMT<?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:notificationSubscriptionList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <periodicNotificationSubscription> <clientCorrelator>0001</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId1} </resourceURL> <callbackReference> <notifyURL> http://application.example.com/notifications/LocationNotification </notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+14155553323</address> <requestedAccuracy>10</requestedAccuracy> <frequency> <metric>Second</metric> <units>10</units> </frequency> </periodicNotificationSubscription> <periodicNotificationSubscription> <clientCorrelator>0002</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId2} </resourceURL> <callbackReference> <notifyURL> http://application.example.com/notifications/LocationNotification </notifyURL> <callbackData>5678</callbackData> </callbackReference> <address>tel:+14155556666</address> <address>tel:+14155557777</address> <requestedAccuracy>10</requestedAccuracy> <frequency> <metric>Second</metric> <units>10</units> </frequency> </periodicNotificationSubscription> </tl:notificationSubscriptionList> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  37 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.6.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616].  5.6.5      POST      This operation is used to create a new periodic location notification subscription for the particular client. Note: ParlayX SOAP equivalent API is StartPeriodicNotification Note: server implementation may use clientCorrelator value, if provided by client, as {subscriptionId}. Otherwise, sequence number should be generated for {subscriptionId}. This is to make sure that client can have a stable and predictable URL for online subscriptions.  5.6.5.1 Example 1: returning a representation of created resource    (Informative) 5.6.5.1.1           Request            POST .../{apiVersion}/location/subscriptions/periodic?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+14155553323</address> <requestedAccuracy>10</requestedAccuracy> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:periodicNotificationSubscription> 5.6.5.1.2           Response            HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId} Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  38 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}</resourceURL><callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+14155553323</address> <requestedAccuracy>10</requestedAccuracy> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:periodicNotificationSubscription> 5.6.5.2 Example 2: returning the location of created resource  (Informative) 5.6.5.2.1           Request            POST .../{apiVersion}/location/subscriptions/periodic?resFormat=XML HTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+14155553323</address> <requestedAccuracy>10</requestedAccuracy> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:periodicNotificationSubscription> 5.6.5.2.2           Response            HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId} Content-Length: 254 Date: Thu, 04 Jun 2009 02:51:59 GMT OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  39 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <?xml version=\"1.0\" encoding=\"UTF-8\"?><common:resourceReference xmlns:common=\"urn:oma:xml:rest:common:1\"> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}</resourceURL> </common:resourceReference> 5.6.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616].  5.7     Resource: Individual periodic location notification subscription The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}  This resource is used to control individual subscription for periodic location notifications for a particular client. 5.7.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com:80/ParlayREST  apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) subscriptionId identifier of the subscription 5.7.2      Response      codes      5.7.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.7.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.7.3      GET      This operation is used to read an individual subscription for periodic location notifications for the particular client. Note: No equivalent ParlayX SOAP API. No URL parameters OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  40 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.7.3.1        Example                (Informative)        5.7.3.1.1           Request            GET .../{apiVersion}/location/subscriptions/periodic/{subscriptionId}?resFormat=XMLHTTP/1.1Host: example.com:80 5.7.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+14155553323</address> <requestedAccuracy>10</requestedAccuracy> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:periodicNotificationSubscription> 5.7.4      PUT      This operation is used to update an individual subscription for periodic location notifications for the particular client. Note: an approximate equivalent in ParlayX SOAP API is StartPeriodicNotification. 5.7.4.1        Example                (Informative)        5.7.4.1.1           Request            PUT .../{apiVersion}/location/subscriptions/periodic/{subscriptionId}?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}</resourceURL> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  41 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <callbackReference><notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+14155553323</address> <requestedAccuracy>5</requestedAccuracy> <frequency> <metric>Second</metric> <units>60</units> </frequency> </tl:periodicNotificationSubscription> 5.7.4.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:periodicNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0001</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>1234</callbackData> </callbackReference> <address>tel:+14155553323</address> <requestedAccuracy>5</requestedAccuracy> <frequency> <metric>Second</metric> <units>60</units> </frequency> </tl:periodicNotificationSubscription> 5.7.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, PUT, DELETE’ field in the response as per section 14.7 of [RFC 2616]. 5.7.6      DELETE      This operation is used to delete a subscription for periodic location notifications and stop notifications for a particular client. Note: ParlayX SOAP API equivalent is EndNotification. No URL parameters OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  42 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.7.6.1        Example                (Informative)        5.7.6.1.1           Request            DELETE .../{apiVersion}/location/subscriptions/periodic/{subscriptionId}?resFormat=XMLHTTP/1.1Host: example.com:80 5.7.6.1.2           Response            HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT 5.8     Resource: Area (circle) notification subscriptions The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle This resource is used to control subscriptions for notification about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client. 5.8.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.8.2      Response      codes      5.8.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.8.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.8.3      GET      This operation is used to read all active movement notifications subscriptions for the particular client. No URL parameters 5.8.3.1        Example                (Informative)        5.8.3.1.1           Request            OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  43 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] GET .../{apiVersion}/location/subscriptions/area/circle?resFormat=XMLHTTP/1.1Host: example.com:80 5.8.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:notificationSubscriptionList xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <circleNotificationSubscription> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId1}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+14155553323</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </circleNotificationSubscription> <circleNotificationSubscription> <clientCorrelator>0004</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId2}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>5555</callbackData> </callbackReference> <address>tel:+14155556666</address> <address>tel:+14155557777</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  44 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <enteringLeavingCriteria>Entering</enteringLeavingCriteria><checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </circleNotificationSubscription> </tl:notificationSubscriptionList> 5.8.4      PUT      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616]. 5.8.5      POST      This operation is used to create new movement notification subscription for the particular client. Note: ParlayX SOAP API equivalent is StartGeographicalNotification. Note: server implementation may use clientCorrelator value, if provided by client, as {subscriptionId}. Otherwise, sequence number should be generated for {subscriptionId}. This is to make sure that client can have a stable and predictable URL for online subscriptions. May be required when multiple client instances are used for performance reasons. 5.8.5.1        Example                (Informative)        5.8.5.1.1           Request            POST .../{apiVersion}/location/subscriptions/area/circle?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+14155553323</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  45 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <metric>Second</metric><units>10</units> </frequency> </tl:circleNotificationSubscription> 5.8.5.1.2           Response            HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId} Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+14155553323</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:circleNotificationSubscription> 5.8.6      DELETE      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616]. 5.9     Resource: Area (circle) individual notification subscription The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}  This resource is used to control individual subscription for notifications about terminal movement in relation to the geographic area (circle), crossing in and out, for a particular client. OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  46 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.9.1 Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) subscriptionId identifier of the subscription 5.9.2      Response      Codes      5.9.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.9.2.2        Exception        fault        codes        For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.9.3      GET      This operation is used to read an individual subscription for movement notification for the particular client. Note: No equivalent ParlayX SOAP API. No URL parameters 5.9.3.1        Example                (Informative)        5.9.3.1.1           Request            GET .../{apiVersion}/location/subscriptions/area/circle/{subscriptionId}?resFormat=XMLHTTP/1.1Host: example.com:80 5.9.3.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  47 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <address>tel:+14155553323</address><latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>500</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:circleNotificationSubscription> 5.9.4      PUT      This operation is used to update the subscription for movement notification for the particular client. Note: an approximate equivalent in ParlayX SOAP API is StartGeographicalNotification. 5.9.4.1 Example: update radius  (Informative) 5.9.4.1.1           Request            PUT .../{apiVersion}/location/subscriptions/area/circle/{subscriptionId}?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL>http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+14155553323</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>50</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  48 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] </tl:circleNotificationSubscription>5.9.4.1.2           Response            HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:circleNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0003</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId} </resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>4444</callbackData> </callbackReference> <address>tel:+14155553323</address> <latitude>100.23</latitude> <longitude>-200.45</longitude> <radius>50</radius> <trackingAccuracy>10</trackingAccuracy> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:circleNotificationSubscription> 5.9.5      POST      Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, PUT, DELETE’ field in the response as per section 14.7 of [RFC 2616]. 5.9.6      DELETE      This operation is used to delete subscription for movement notifications and stop notifications for the particular client. Note: ParlayX SOAP API equivalent is EndNotification. No URL parameters 5.9.6.1        Example                (Informative)        5.9.6.1.1           Request            OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  49 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] DELETE .../{apiVersion}/location/subscriptions/area/circle/{subscriptionId}?resFormat=XMLHTTP/1.1Host: example.com:80 5.9.6.1.2           Response            HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.10   Resource: Distance notification subscriptions The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/distance  This resource is used to control subscriptions for notification about changes in the geographical relationships between terminals (a client has passed a border by either approaching or leaving another referenced client).  5.10.1    Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example.com:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) 5.10.2    Response    codes    5.10.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.10.2.2      Exception      fault      codes      For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.10.3    GET    This operation is used to read all active distance notifications subscriptions for the particular client. No URL parameters 5.10.3.1      Example            (Informative)      5.10.3.1.1         Request          OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  50 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] GET .../{apiVersion}/location/subscriptions/distance?resFormat=XMLHTTP/1.1Host: example.com:80 5.10.3.1.2         Response          HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:notificationSubscriptionList  xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <distanceNotificationSubscription> <clientCorrelator>0006</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId1} </resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+14155553323</referenceAddress> <monitoredAddress>tel:+14155553324</monitoredAddress> <monitoredAddress>tel:+14155553325</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </distanceNotificationSubscription> <distanceNotificationSubscription> < clientCorrelator>0007</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId2}</resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>7777</callbackData> </callbackReference> <monitoredAddress>tel:+14155553323</monitoredAddress> <monitoredAddress>tel:+14155553324</monitoredAddress> <monitoredAddress>tel:+14155553325</monitoredAddress> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  51 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <distance>1000</distance><trackingAccuracy>50</trackingAccuracy> <criteria>AnyBeyondDistance</criteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </distanceNotificationSubscription> </tl:notificationSubscriptionList> 5.10.4    PUT    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616].  5.10.5    POST    This operation is used to create new distance notification subscription for the particular client. Note: ParlayX SOAP API equivalent is StartDistanceNotification. Note: server implementation may use clientCorrelator value, if provided by client, as {subscriptionId}. Otherwise, sequence number should be generated for {subscriptionId}. This is to make sure that client can have a stable and predictable URL for online subscriptions.  5.10.5.1      Example            (Informative)      5.10.5.1.1         Request          POST .../{apiVersion}/location/subscriptions/distance?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+14155553323</referenceAddress> <monitoredAddress>tel:+14155553324</monitoredAddress> <monitoredAddress>tel:+14155553325</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  52 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <criteria>AllWithinDistance</criteria><checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:distanceNotificationSubscription> 5.10.5.1.2         Response          HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{ subscriptionId} Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\" > <clientCorrelator>0006</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId} </resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+14155553323</referenceAddress> <monitoredAddress>tel:+14155553324</monitoredAddress> <monitoredAddress>tel:+14155553325</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:distanceNotificationSubscription> 5.10.6    DELETE    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST’ field in the response as per section 14.7 of [RFC 2616].  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  53 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.11   Resource: Distance individual notification subscription The resource used is:  http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}  This resource is used to control individual subscription for notifications about changes in the geographical relationships between terminals (a client has passed a border by either approaching or leaving another referenced client).  5.11.1    Request URI variables The following request URI variables are common for all HTTP commands:  NameDescriptionserverRoot server base url: hostname+port+base path. Example: http://example:80/ParlayREST apiVersion version of the ParlayREST API client wants to use (e.g. 1 for version 1.x) subscriptionId identifier of the subscription 5.11.2    Response    Codes    5.11.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.11.2.2      Exception      fault      codes      For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9]. 5.11.3    GET    This operation is used to read an individual subscription for distance notification for the particular client. Note: No equivalent ParlayX SOAP API. No URL parameters 5.11.3.1      Example            (Informative)      5.11.3.1.1         Request          GET .../{apiVersion}/location/subscriptions/distance/{subscriptionId}?resFormat=XMLHTTP/1.1Host: example.com:80 5.11.3.1.2         Response          HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  54 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId} </resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+14155553323</referenceAddress> <monitoredAddress>tel:+14155553324</monitoredAddress> <monitoredAddress>tel:+14155553325</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:distanceNotificationSubscription> 5.11.4    PUT    This operation is used to update the subscription for distance notification for the particular client. Note: an approximate equivalent in ParlayX SOAP API is StartDistanceNotification. 5.11.4.1 Example: add a monitored address  (Informative) 5.11.4.1.1         Request          PUT .../{apiVersion}/location/subscriptions/distance/{subscriptionId}?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId} </resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  55 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <callbackData>6666</callbackData></callbackReference> <referenceAddress>tel:+14155553323</referenceAddress> <monitoredAddress>tel:+14155553324</monitoredAddress> <monitoredAddress>tel:+14155553325</monitoredAddress> <monitoredAddress>tel:+14155553326</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> </tl:distanceNotificationSubscription> 5.11.4.1.2         Response          HTTP/1.1 200 OKContent-Type: application/xml Date: Thu, 04 Jun 2009 02:51:59 GMT <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:distanceNotificationSubscription xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <clientCorrelator>0006</clientCorrelator> <resourceURL> http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId} </resourceURL> <callbackReference> <notifyURL>http://application.example.com/notifications/LocationNotification</notifyURL> <callbackData>6666</callbackData> </callbackReference> <referenceAddress>tel:+14155553323</referenceAddress> <monitoredAddress>tel:+14155553324</monitoredAddress> <monitoredAddress>tel:+14155553325</monitoredAddress> <monitoredAddress>tel:+14155553326</monitoredAddress> <distance>100</distance> <trackingAccuracy>10</trackingAccuracy> <criteria>AllWithinDistance</criteria> <checkImmediate>true</checkImmediate> <frequency> <metric>Second</metric> <units>10</units> </frequency> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  56 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] </tl:distanceNotificationSubscription>5.11.5    POST    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: GET, POST, DELETE’ field in the response as per section 14.7 of [RFC 2616]. 5.11.6    DELETE    This operation is used to delete subscription for distance notifications and stop notifications for the particular client. Note: ParlayX SOAP API equivalent is EndNotification. No URL parameters 5.11.6.1      Example            (Informative)      5.11.6.1.1         Request          DELETE .../{apiVersion}/location/subscriptions/distance/{subscriptionId}?resFormat=XMLHTTP/1.1Host: example.com:80 5.11.6.1.2         Response:          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12   Resource: Client notification callback resource This resource is a client provided callback URL for notification about location changes. ParlayREST does not make any assumption about the structure of this URL  5.12.1    Request URI variables Client provided.  5.12.2    Response    Codes    5.12.2.1 HTTP Response Codes For HTTP response codes, see [REST_TS_Common]. 5.12.2.2      Exception      fault      codes      For Policy Exception and Service Exception fault codes applicable to Terminal Location, see [3GPP 29.199-9].  5.12.3    GET    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: POST’ field in the response as per section 14.7 of [RFC 2616]. OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  57 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.12.4    PUT    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: POST’ field in the response as per section 14.7 of [RFC 2616]. 5.12.5    POST    This operation is used to notify client about message arrival. Note: ParlayX SOAP equivalents are LocationNotification, DistanceNotification, LocationEnd, and LocationError.  5.12.5.1 Example 1: Circle area notification (one terminal)  (Informative) 5.12.5.1.1         Request         POST /notifications/LocationNotification?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: application.example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>4444</callbackData> <terminalLocation> <address>tel:16309700001</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <enteringLeavingCriteria>Entering</enteringLeavingCriteria> <isFinalNotification>false</isFinalNotification> <link rel=\"CircleNotificationSubscription\" href=\"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}\"/> </tl:subscriptionNotification> 5.12.5.1.2         Response          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.2 Example 2: Periodic location notification (one terminal)  (Informative) 5.12.5.2.1         Request          OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  58 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] POST /notifications/LocationNotification?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: application.example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>1234</callbackData> <terminalLocation> <address>tel:16309703333</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <isFinalNotification>false</isFinalNotification> <link rel=\"PerodicNotificationSubscription\" href=\"http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}\"/>  <terminalLocation> </tl:subscriptionNotification> 5.12.5.2.2         Response:          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.3 Example 3: Distance location notification (one terminal)  (Informative) 5.12.5.3.1         Request          POST /notifications/LocationNotification?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: application.example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>6666</callbackData> <terminalLocation> <address>tel:16309703333</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  59 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] <longitude>41.277306</longitude><altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <distanceCriteria>AllBeyondDistance</distanceCriteria> <isFinalNotification>false</isFinalNotification> <link rel=\"DistanceNotificationSubscription\" href=\"http://{serverRoot}/{apiVersion}/location/subscriptions/distances/{subscriptionId}\"/> </tl:subscriptionNotification> 5.12.5.3.2         Response         HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.4 Example 4: Final periodic location notification  (Informative) 5.12.5.4.1         Request         POST /notifications/LocationNotification?resFormat=XMLHTTP/1.1Accept: application/xml Content-Type: application/xml; charset=UTF-8 Host: application.example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>1234</callbackData> <terminalLocation> <address>tel:16309703333</address> <locationRetrievalStatus>Retrieved</locationRetrievalStatus> <currentLocation> <latitude>-80.86302</latitude> <longitude>41.277306</longitude> <altitude>1001.0</altitude> <accuracy>100</accuracy> <timestamp>2009-06-03T00:27:23.000Z</timestamp> </currentLocation> </terminalLocation> <isFinalNotification>true</isFinalNotification> <link rel=\"FinalDistanceNotificationSubscription\" href=\"http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}\"/> </tl:subscriptionNotification> OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  60 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] 5.12.5.4.2         Response:          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT  5.12.5.5 Example 5: Subscription cancellation notification  (Informative) 5.12.5.5.1         Request          POST /notifications/LocationNotification?resFormat=XMLHTTP/1.1Content-Type: application/xml; charset=UTF-8 Host: application.example.com:80 <?xml version=\"1.0\" encoding=\"UTF-8\"?> <tl:subscriptionCancellationNotification xmlns:tl=\"urn:oma:xml:rest:terminallocation:1\"> <callbackData>6666</callbackData> <address>tel:16309703333</address> <reason> <messageId>SVC0001</messageId> <text>A service error occurred. %1 %2</text> <variables>Location information is not available for</variables> <variables>tel:16309703333</variables> </reason> <link rel=\"DistanceNotificationSubscription\" href=\"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\"/> </tl:subscriptionCancellationNotification> 5.12.5.5.2         Response          HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT 5.12.6    DELETE    Method not supported by the resource. The returned HTTP error status is 405. The server should also include the ‘Allow: POST’ field in the response as per section 14.7 of [RFC 2616].  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  61 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Appendix A. Change History (Informative) A.1    Approved    Version    History    Reference Date Description n/a  n/a No prior version –or- No previous version within OMA A.2    Draft Version 1.0 History  Document Identifier Date Sections Description Draft Version: OMA-TS-ParlayREST-TerminalLocation-V0_0 24 Jun 2009 1, 4 Initial Scope and Introduction sections Draft Version OMA-TS-ParlayREST-TerminalLocation-V0_1 03 Aug 2009 1, 2, 3, 4, 5, Appendix A & Appendix B Updated Scope and Introduction sections Initial References, Terminology and Conventions, Terminal Locations, Change History and SCR sections Draft Version OMA-TS-ParlayREST-TerminalLocation-V0_2 10 Nov 2009 4.1, 5  Updated after LA meeting, from OMA-ARC-REST-2009-0051R01-CR_ParlayREST_TerminalLocation_API.doc Draft Version OMA-TS-ParlayREST-TerminalLocation-V1_0 25 Nov 2009 all Moved ServiceError, PolicyException and ServiceException to Common Formatting and clean-up 1 Dec 2009 5.1 Replaced table, with data from OMA-ARC-REST-2009-0074R01, and OMA-ARC-REST-2009-0092R01 all Merged location contribution from OMA-TS-ParlayREST_TerminalLocation-V1_0-20091125-D_distance_added.doc, as described in OMA-ARC-REST-2009-0104R01 and added OMA-ARC-REST-2009-0088R02-CR_FlowDiagrams_to_TerminalLocation_TS 2 Dec 2009 5.6.4.2 5.6.6.1 5.6.6.2 5.7.4.2 5.7.5.1 5.7.5.2 Changes from OMA-ARC-REST-2009-0109-CR_Updates_PeriodicNotification_to_TerminalLocation_TS  3 Dec 2009 5.2 Updated selfURL to resourceURL and added Link and OMA-ARC-REST-2009-0102-CR_DataStructures_Notification_to_TerminalLocation_TS 4Updated from  OMA-ARC-REST-2009-0113-INP_SMS_Intro_section. 2Updated from OMA-ARC-REST-2009-0114-INP_SMS_TS_Reference_Section 3Updated from OMA-ARC-REST-2009-0115R01-INP_SMS_TS_Section_3.doc 7 Dec 2009 all Document clean-up and added OMA-ARC-REST-2009-0118R01-CR_Outline_for_request_response_examples.doc 11 Dec 2009 all Update after final CC, see OMA-ARC-REST-2009-0170-MINUTES_11Dec2009_CC for details   OMA-ARC-REST-2009-0149R02-CR_Issue_LOC_8_Missing_XML_Examples   OMA-ARC-REST-2009-0165-CR_RequestError_Issue_LOC_4   OMA-ARC-REST-2009-0156-CR_Issue_LOC_20   OMA-ARC-REST-2009-0152-CR_TerminalLocation_Fix_unbounded_Link   OMA-ARC-REST-2009-0135-CR_SCR_and_PX_Profile_vs_REST_Ops_Appx_for_TerminalLocation   OMA-ARC-REST-2009-0126-CR_Link_rel_strings_TerminalLocation 16 Dec 2009 All Editorial fixes   History table   Styles as per template 26 Feb 2010 All CONRR editorial comments applied, solving G005, G007, G008, E0011, E0016, E0020, E0024 02 Feb 2010 All Update from OMA-ARC-REST-0022 03 Feb 2010 All Applied G001, G002, G004 04 Feb 2010 All Added OMA-ARC-REST-2009-177R01 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  62 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Document Identifier Date Sections Description 07 Feb 2010 All E001, E002, E003, E004,  E005, E009, E011  10 Feb 2010 All E012, E022, E006, E014, E015, E017, E018, E019, E020, E021 E022, E023, E024, E028, E029, E030, E031, E032, E033, E034 E009, E025, E027, E013, E026 15 Feb 2010 All OMA-ARC-REST-2010-0055R01 E008 18 Feb 2010 All examples Revalidated 28 Feb 2010 All Editorial cleanup and added OMA-ARC-REST-2010-0098-CR_Rename_terminal_distance 07 Mar 2010 All OMA-ARC-REST-2010-0086 OMA-ARC-REST-2010-0095 08 Mar 2010 All Editorial updates:   Styles from template applied   2010 copyright 08 Mar 2010 All Editorial updates:  Typos found in pre-walk-thru  References in in Appendix B Removed changes from: OMA-ARC-REST-2010-0098-CR_Rename_terminal_distance (This CR is still on R&A till March 10.) 11 Mar 2010 All Added OMA-ARC-REST-2010-0098-CR_Rename_terminal_distance Added new version of figure 5 and 6. 17 Mar 2010 5  5.12.5.3.2 Appendix C TOC Formatted all examples with ‘listing’ style Fixed typos ‘subscription’ -> ‘subscription’ Added section to show Response Added JSON examples Updated 18 Mar 2010 All Updates from walk-through 29 Mar 2010 All OMA-ARC-REST-2010-0151-CR_Restructuring_Terminal_Location OMA-ARC-REST-2010-0163R01-CR_Terminal_Location_Notifications_alignment Reapplied still applicable changes from 26 Mar 2010: •CR 131 OMA-ARC-REST-2010-0131-CR_SCR_correction_Terminal_Location  •Removed “/n” from  JSON examples  •Remove line break after name space OMA-ARC-REST-2010-0137R02-CR_Correction_of_section_5.3_in_Terminal_Location_TS OMA-ARC-REST-2010-0159R01-CR_Fixing_Inaccuracy_Flow_Description_Terminal_Location OMA-ARC-REST-2010-0139-CR_Incorrect_URL_for_client_side_resources_Location OMA-ARC-REST-2010-0145-CR_Common_prefix_TerminalLocation OMA-ARC-REST-2010-0161-CR_resoucreURL_correction OMA-ARC-REST-2010-0162R01-CR_Type_of_Representation_returned_in_GetLocation_Query OMA-ARC-REST-2010-0165R01-CR_Duration_description_alignment_TL Editorial updates:   Font/styles in document   Circle/area and movement/location updates where needed.  30 Mar 2010 5.6.5 C9, C10 (new) OMA-ARC-REST-2010-0092-CR_Closing_echoing_issue_examples_Location.doc Candidate Version: OMA-TS-ParlayREST_TerminalLocation-V1_0 27 Apr 2010 All Status changed to Candidate by TP:   OMA-TP-2010-0186-INP_ParlayREST_V1_0_ERP_for_Candidate_Approval OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  63 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Appendix B. Static Conformance Requirements (Normative) The notation used in this appendix is specified in [SCRRULES]. B.1    SCR for ParlayREST.TerminalLocation Server Item Function Reference Requirement PARLAYREST-LOC-SUPPORT-S-001-M Support for the TERMINALLOCATION REST Enabler 5PARLAYREST-LOC-SUPPORT-S-002-M Support for the XML request & response format 5PARLAYREST-LOC-SUPPORT-S-003-M Support for the JSON request & response format 5B.1.1 SCR for ParlayREST.TerminalLocation.TerminalLocation Server Item Function Reference Requirement PARLAYREST-LOC-LOC-S-001-M Support for returning current location of terminals 5.4 PARLAYREST-LOC-LOC-S-002-M Read terminal location information for a single address - GET  5.4.3 PARLAYREST-LOC-LOC-S-003-M Read terminal location information for a group of addresses - GET 5.4.3                                        B.1.2 SCR for ParlayREST.TerminalLocation. TerminalDistanceFromLocation Server Item Function Reference Requirement PARLAYREST-LOC-LOC-DIST-S-001-O Support for returning distance from terminal current location 5.5                       PARLAYREST-LOC-                       LOC-DIST-S-001-O PARLAYREST-LOC- LOC-DIST-S-001-O the distance from current terminal location - GET  5.5.3                                        B.1.3 SCR for ParlayREST.TerminalLocation. PeriodicLocationNotificationSubscriptions Server Item Function Reference Requirement PARLAYREST-LOC-LOC-NOTIF-SUBSCR-S-001-O Support for controlling subscriptions for periodic location notification for a particular client. 5.6                       PARLAYREST-LOC-LOC-NOTIF-SUBSCR-S-003-O PARLAYREST-LOC-LOC-NOTIF-Read all active subscriptions for 5.6.3 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  64 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Item Function Reference Requirement SUBSCR-S-002-O periodic notifications for the particular client - GET  PARLAYREST-LOC-LOC-NOTIF-SUBSCR-S-003-O Create a new periodic notification subscription for the particular client - POST 5.6.5                                        B.1.4 SCR for ParlayREST.TerminalLocation. IndividualPeriodicNotificationSubscr Server Item Function Reference Requirement PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-001-O Support for controlling individual subscription for periodic location notifications for a particular client. 5.7 PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-002-O Read an individual subscription for periodic location notifications for the particular client.- GET  5.7.3 PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-003-O Update an individual subscription for periodic location notifications for the particular client.- PUT 5.7.4 PARLAYREST-LOC-IND-NOTIF-SUBSCR-S-004-O Delete a subscription for periodic location notifications and stop notifications for a particular client. - DELETE 5.7.6                                        B.1.5 SCR for ParlayREST.TerminalLocation. AreaCircleNotificationSubscriptions Server Item Function Reference Requirement PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-001-O Support for controlling subscriptions for notification about terminal movements in relation to the geographic area (circle),crossing in and out, for a particular client. 5.8                       PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-003-O PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-002-O Read all active movement notifications subscriptions for the particular client - GET  5.8.3 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  65 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Item Function Reference Requirement PARLAYREST-LOC-AREA-CIR-NOTIF-SUBSCR-S-003-O Create new movement notification subscription for the particular client. - POST 5.8.5                                        B.1.6 SCR for ParlayREST.TerminalLocation. AreaCircleIndividualNotificationSubscription Server Item Function Reference Requirement PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-001-O Support for controlling individual subscription for notifications about terminal movements in relation to the geographic area (circle), crossing in and out, for a particular client. 5.9 PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-002-O Read an individual subscription for movement notification for the particular client. - GET  5.9.3 PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-003-O Update the subscription for movement notification for the particular client.- PUT 5.9.4 PARLAYREST-LOC-AREA-CIR-IND-NOTIF-SUBSCR-S-004-O Delete subscription for movement notifications and stop notifications for the particular client.- DELETE 5.9.6                                        B.1.7 SCR for ParlayREST.TerminalLocation. DistanceNotificationSubscriptions Server Item Function Reference Requirement PARLAYREST-LOC-DIST-NOTIF-SUBSCR-S-001-O Support for controlling subscriptions for notification about changes in the geographical relationships between terminals. 5.10                     PARLAYREST-LOC-DIST-NOTIF-SUBSCR-S-003-O PARLAYREST-LOC-DIST-NOTIF-SUBSCR-S-002-O Read all active distance notifications subscriptions for the particular client.- GET  5.10.3 PARLAYREST-LOC-DIST-NOTIF-Create new distance notification 5.10.5                                    OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  66 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Item Function Reference Requirement SUBSCR-S-003-O subscription for the particular client.- POST B.1.8 SCR for ParlayREST.TerminalLocation. DistanceIndividualNotificationSubscription Server Item Function Reference Requirement PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-001-O Support for controlling individual subscription for notifications about changes in the geographical relationships between terminals. 5.11 PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-002-O Read an individual subscription for distance notification for the particular client.- GET  5.11.3 PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-003-O Update the subscription for distance notification for the particular client - PUT 5.11.4 PARLAYREST-LOC-DIST-IND-NOTIF-SUBSCR-S-004-O Delete subscription for distance notifications and stop notifications for the particular client. - DELETE 5.11.6                                    B.1.9 SCR for ParlayREST. TerminalLocation. ClientNotificationCallbackResource Server Item Function Reference Requirement PARLAYREST-LOC-CLIENT-NOTIF-CALLB-S-001-O Support for callback URL for notification about location changes 5.12                     PARLAYREST-LOC-CLIENT-NOTIF-CALLB-S-002-O PARLAYREST-LOC-CLIENT-NOTIF-CALLB-S-002-O Notify client about message arrival - POST 5.12.5                                    OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  67 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Appendix C. JSON examples (Informative)  JSON (JavaScript Object Notation) is a lightweight, text-based, language-independent data interchange format. It provides a simple means to represent basic name-value pairs, arrays and objects. JSON is relatively trivial to parse and evaluate using standard JavaScript libraries, and hence is suited for Parlay REST invocations from browsers or other processors with JavaScript engines. Further information on JSON can be found at [RFC 4627]. The following examples show the request or response for various operations using a JSON binding. The examples follow the XML to JSON serialization guidelines in [REST_WP]. A JSON response may be obtained by following the content negotiation guidelines section of [REST_WP]. For full details on the operations themselves please refer to the section number indicated.  C.1    Get location single address (section 5.4.3.1) Request: GET ../{apiVersion}/location/queries/location?resFormat=JSON&address= tel:16309700001&tolerance=LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000 HTTP/1.1 Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"terminalLocationList\": {\"terminalLocation\": { \"address\": \"tel:16309700001\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} C.2    Get location multiple addresses (section 5.4.3.2) Request: GET ../{apiVersion}/location/queries/location?resFormat=JSON&address=tel:16309700001&address= tel:16309700002&Tolerance=LowDelay&requestedAccuracy=1000&acceptableAccuracy=1000 HTTP/1.1 Host: example.com:80 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  68 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Response: HTTP/1.1 200 OKX-Powered-By: Servlet/2.5 Server: Example/v3 Content-Type: application/json Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"terminalLocationList\": {\"terminalLocation\": [ {\"address\": \"tel:16309700001\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }, {\"address\": \"tel:16309700002\", \"errorInformation\": {\"serviceException\": { \"messageId\": \"SVC0001\", \"text\": \"A service error occurred. %1 %2\", \"variables\": [ \"Location information is not available for\", \"tel:16309700002\" ]}}, \"locationRetrievalStatus\": \"Error\" }]}} C.3    Location with unsupported accuracy (section 5.4.3.3) Request:  GET ../{apiVersion}/location/queries/location?resFormat=JSON&address= tel:16309700001&tolerance=LowDelay&requestedAccuracy=10&acceptableAccuracy=100 HTTP/1.1 Host: example.com:80 Response: HTTP/1.1 200 OKX-Powered-By: Servlet/2.5 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  69 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Server: Example/v3Content-Type: application/json Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"requestError\": { \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/queries/location\", \"rel\": \"TerminalLocationList\" }, \"policyException\": { \"messageId\": \"POL0230\", \"text\": \"The requested accuracy %1 is not supported by the policy\", \"variables\": \"10\" }}} C.4    Distance between a terminal and a location (section 5.5.3.1)  Request:  GET ../{apiVersion}/location/queries/distance?resFormat=JSON&address=tel:+16309700002&latitude=50&longitude=125 HTTP/1.1Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT  {\"terminalDistance\": {\"distance\": \"100\"}} C.5    Distance between two terminals (section 5.5.3.2) Request:  GET ../{apiVersion}/location/queries/distance?resFormat=JSON&address=tel:+16309700002& address=tel:+16309700003 HTTP/1.1Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Content-Length: 1234 OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  70 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] Date: Thu, 04 Jun 2009 02:51:59 GMT{\"requestError\": { \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/queries/distance\", \"rel\": \"TerminalDistance\" }, \"policyException\": { \"messageId\": \"SVC0002\", \"text\": \" Invalid input value for message part %1\", \"variables\": \"tel:+016309700000\" }}} C.6    Invalid address (section 5.5.3.3) Request:  GET ../{apiVersion}/location/queries/distance?resFormat=JSON&address=tel:+016309700000&latitude=50&longitude=125 HTTP/1.1Host: example.com:80 Response: HTTP/1.1 200OKContent-Type: application/json Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"requestError\": { \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/queries/distance\", \"rel\": \"TerminalDistance\" }, \"serviceException\": { \"messageId\": \"SVC0002\", \"text\": \" Invalid input value for message part %1\", \"variables\": \" tel:+016309700000\" }}} C.7    Too many addresses (section 5.5.3.4) Request:  GET ../{apiVersion}/location/queries/distance?resFormat=JSON&address=tel:+016309700000&OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  71 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] address=tel:+16309700001&address=tel:+16309700002  HTTP/1.1Host: example.com:80 Response: HTTP/1.1 400 Bad RequestContent-Type: application/json Content-Length: 1234 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"requestError\": { \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/queries/distance\", \"rel\": \"TerminalDistance\" }, \"policyException\": { \"messageId\": \"POL0003\", \"text\": \" Too many addresses specified in message part %1\", \"variables\": \"addresses\" }}} C.8    Get periodic notification subscriptions (section 5.6.3) Request:  GET .../{apiVersion}/location/subscriptions/periodic?resFormat=JSON HTTP/1.1Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"notificationSubscriptionList\": {\"periodicNotificationSubscription\": [ {\"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": { \"metric\": \"Second\", OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  72 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"units\": \"10\"}, \"requestedAccuracy\": \"10\", \"resourceURL\": http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId1} \" }, {\"address\": [ \"tel:+14155556666\", \"tel:+14155557777\" ], \"callbackReference\": { \"callbackData\": \"5678\", \"notifyURL\": \" http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0002\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"requestedAccuracy\": \"10\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId2}\" }]}} C.9    Create new periodic notification subscription, returning a representation of created resource (section 5.6.5.1)  Request:  POST .../{apiVersion}/location/subscriptions/periodic?resFormat=JSONHTTP/1.1Content-Type: application/JSON; charset=UTF-8 Host: example.com:80 {\"periodicNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  73 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"requestedAccuracy\": \"10\"}} Response: HTTP/1.1 201 CreatedContent-Type: application/json Location: http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId} Date: Thu, 04 Jun 2009 02:51:59 GMT {\"periodicNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"requestedAccuracy\": \"10\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}\" }} C.10  Create new periodic notification subscription, returning the location of created resource (section 5.6.5.2)  Request:  POST .../{apiVersion}/location/subscriptions/periodic?resFormat=JSONHTTP/1.1Content-Type: application/JSON; charset=UTF-8 Host: example.com:80 {\"periodicNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  74 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"requestedAccuracy\": \"10\"}} Response: HTTP/1.1 201 CreatedContent-Type: application/xml Location: http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId} Content-Length: 254 Date: Thu, 04 Jun 2009 02:51:59 GMT {\"resourceReference\": { \"resourceURL\": \" http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}\" }} C.11  Read individual notification subscription (section 5.7.3)  Request:  GET .../{apiVersion}/location/subscriptions/periodic/{subscriptionId}?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/JSON Date: Thu, 04 Jun 2009 02:51:59 GMT {\"periodicNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"requestedAccuracy\": \"10\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}\" }} OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  75 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] C.12  Update individual notification subscription (section 5.7.4)  Request:  PUT .../{apiVersion}/location/subscriptions/periodic/{subscriptionId}?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"periodicNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"1234\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"clientCorrelator\": \"0001\", \"frequency\": { \"metric\": \"Second\", \"units\": \"60\" }, \"requestedAccuracy\": \"5\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/periodic/{subscriptionId}\" }} C.13  Delete a notification subscription (section 5.7.6.1) Request:  DELETE .../{apiVersion}/location/subscriptions/periodic/{subscriptionId}?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT C.14  Read all active area(circle) notification subscriptions (section 5.8.3) Request:  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  76 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] GET .../{apiVersion}/location/subscriptions/area/circle?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"notificationSubscriptionList\": {\"circleNotificationSubscription\": [ {\"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId1}\", \"trackingAccuracy\": \"10\" }, {\"address\": [ \"tel:+14155556666\", \"tel:+14155557777\" ], \"callbackReference\": { \"callbackData\": \"5555\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0004\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  77 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"latitude\": \"100.23\",\"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId2}\", \"trackingAccuracy\": \"10\" }]}} C.15  Create new notification subscription (section 5.8.5) Request:  POST .../{apiVersion}/location/subscriptions/area/circle?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: example.com:80 {\"circleNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 201 CreatedContent-Type: application/json Location: http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId} Date: Thu, 04 Jun 2009 02:51:59 GMT  {\"circleNotificationSubscription\": { \"address\": \"tel:+14155553323\", OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  78 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"callbackReference\": {\"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} C.16  Get individual notification subscription (section 5.9.3)  Request:  GET .../{apiVersion}/location/subscriptions/area/circle/{subscriptionId}?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"circleNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  79 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] },\"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"500\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} C.17  Update subscription for notification (section 5.9.4) Request:  PUT .../{apiVersion}/location/subscriptions/area/circle/{subscriptionId}?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: example.com:80 {\"circleNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { \"callbackData\": \"4444\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"50\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"circleNotificationSubscription\": { \"address\": \"tel:+14155553323\", \"callbackReference\": { OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  80 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"callbackData\": \"4444\",\"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0003\", \"enteringLeavingCriteria\": \"Entering\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"latitude\": \"100.23\", \"longitude\": \"-200.45\", \"radius\": \"50\", \"resourceURL\": \"\\http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} C.18  Delete a subscription for area(circle) notification (section 5.9.6)  Request:  DELETE .../{apiVersion}/location/subscriptions/area/circle/{subscriptionId}?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT C.19  Read distance notification subscription (section 5.10.3)  Request:  GET .../{apiVersion}/location/subscriptions/distance?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 200OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"notificationSubscriptionList\": {\"distanceNotificationSubscription\": [ OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  81 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] {\"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"monitoredAddress\": [ \"tel:+14155553324\", \"tel:+14155553325\" ], \"referenceAddress\": \"tel:+14155553323\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId1}\", \"trackingAccuracy\": \"10\" }, {\"callbackReference\": { \"callbackData\": \"7777\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0007\", \"criteria\": \"AnyBeyondDistance\", \"distance\": \"1000\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"monitoredAddress\": [ \"tel:+14155553323\", \"tel:+14155553324\", \"tel:+14155553325\" ], \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId2}\", \"trackingAccuracy\": \"50\" }]}} OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  82 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] C.20  Create new distance notification (section 5.10.5) Request:  POST .../{apiVersion}/location/subscriptions/distance?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: example.com:80 {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"monitoredAddress\": [ \"tel:+14155553324\", \"tel:+14155553325\" ], \"referenceAddress\": \"tel:+14155553323\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 201 CreatedContent-Type: application/json Location: http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{ subscriptionId} Date: Thu, 04 Jun 2009 02:51:59 GMT {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": { \"metric\": \"Second\", OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  83 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"units\": \"10\"}, \"monitoredAddress\": [ \"tel:+14155553324\", \"tel:+14155553325\" ], \"referenceAddress\": \"tel:+14155553323\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} C.21  Read a subscription for distance notification (section 5.11.3)  Request:  GET .../{apiVersion}/location/subscriptions/distance/{subscriptionId}?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"monitoredAddress\": [ \"tel:+14155553324\", \"tel:+14155553325\" ], \"referenceAddress\": \"tel:+14155553323\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  84 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] C.22  Update a distance notification subscription (section 5.11.4.1)  Request:  PUT .../{apiVersion}/location/subscriptions/distance/{subscriptionId}?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: example.com:80 {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", \"criteria\": \"AllWithinDistance\", \"distance\": \"100\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"monitoredAddress\": [ \"tel:+14155553324\", \"tel:+14155553325\", \"tel:+14155553326\" ], \"referenceAddress\": \"tel:+14155553323\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} Response: HTTP/1.1 200 OKContent-Type: application/json Date: Thu, 04 Jun 2009 02:51:59 GMT {\"distanceNotificationSubscription\": { \"callbackReference\": { \"callbackData\": \"6666\", \"notifyURL\": \"http://application.example.com/notifications/LocationNotification\" }, \"checkImmediate\": \"true\", \"clientCorrelator\": \"0006\", OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  85 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"criteria\": \"AllWithinDistance\",\"distance\": \"100\", \"frequency\": { \"metric\": \"Second\", \"units\": \"10\" }, \"monitoredAddress\": [ \"tel:+14155553324\", \"tel:+14155553325\", \"tel:+14155553326\" ], \"referenceAddress\": \"tel:+14155553323\", \"resourceURL\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\", \"trackingAccuracy\": \"10\" }} C.23  Delete a distance notification subscription (section 5.11.6.1) Request:  DELETE .../{apiVersion}/location/subscriptions/distance/{subscriptionId}?resFormat=JSONHTTP/1.1Host: example.com:80 Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT C.24  Circle area notification – one terminal (section 5.12.5.1)  Request:  POST /notifications/LocationNotification?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: application.example.com:80 {\"subscriptionNotification\": { \"callbackData\": \"4444\", \"enteringLeavingCriteria\": \"Entering\", \"isFinalNotification\": \"false\", \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}\", \"rel\": \"CircleNotificationSubscription\" }, OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  86 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"terminalLocation\": {\"address\": \"tel:16309700001\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT C.25  Periodic location notification – one terminal (section 5.12.5.2) Request:  POST /notifications/LocationNotification?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: application.example.com:80 {\"subscriptionNotification\": { \"callbackData\": \"1234\", \"isFinalNotification\": \"false\", \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\", \"rel\": \"PerodicNotificationSubscription\" }, \"terminalLocation\": { \"address\": \"tel:16309703333\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  87 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT C.26  Distance notification – one terminal (section 5.12.5.3) Request:  POST /notifications/LocationNotification?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: application.example.com:80 {\"subscriptionNotification\": { \"callbackData\": \"6666\", \"distanceCriteria\": \"AllBeyondDistance\", \"isFinalNotification\": \"false\", \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\", \"rel\": \"DistanceNotificationSubscription\" }, \"terminalLocation\": { \"address\": \"tel:16309703333\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT C.27  Final periodic location notification (section 5.12.5.4) Request:  OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  88 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] POST /notifications/LocationNotification?resFormat=JSONHTTP/1.1Accept: application/json Content-Type: application/json; charset=UTF-8 Host: application.example.com:80 {\"subscriptionNotification\": { \"callbackData\": \"1234\", \"isFinalNotification\": \"true\", \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/area/circle/{subscriptionId}\", \"rel\": \"FinalDistanceNotificationSubscription\" }, \"terminalLocation\": { \"address\": \"tel:16309703333\", \"currentLocation\": { \"accuracy\": \"100\", \"altitude\": \"1001.0\", \"latitude\": \"-80.86302\", \"longitude\": \"41.277306\", \"timestamp\": \"2009-06-03T00:27:23.000Z\" }, \"locationRetrievalStatus\": \"Retrieved\" }}} Response: HTTP/1.1 204 No ContentDate: Thu, 04 Jun 2009 02:51:59 GMT C.28  Subscription cancellation notification (section 5.12.5.5) Request:  POST /notifications/LocationNotification?resFormat=JSONHTTP/1.1Content-Type: application/json; charset=UTF-8 Host: application.example.com:80 {\"subscriptionCancellationNotification\": { \"address\": \"tel:16309703333\", \"callbackData\": \"6666\", \"link\": { \"href\": \"http://{serverRoot}/{apiVersion}/location/subscriptions/distance/{subscriptionId}\", \"rel\": \"DistanceNotificationSubscription\" }, OMA-TS-ParlayREST_TerminalLocation-V1_0-20100427-C Page  89 (89)  \u00012010 Open Mobile Alliance Ltd.  All Rights Reserved. Used with the permission of the Open Mobile Alliance Ltd. under the terms as stated in this document.[OMA-Template-Spec-20090101-I] \"reason\": {\"messageId\": \"SVC0001\", \"text\": \"A service error occurred. %1 %2\", \"variables\": [ \"Location information is not available for\", \"tel:16309703333\" ]}}} Response: HTTP/1.1 204 No Content Date: Thu, 04 Jun 2009 02:51:59 GMT"},{"url":"http://www.openmobilealliance.org/release/ParlayREST/V1_0-20100427-C/OMA-WP-Guidelines_for_ParlayREST_API_specifications-20100427-C.pdf","file":"OMA-WP-Guidelines_for_ParlayREST_API_specifications-20100427-C.pdf","status":"","version":"","date":"","contentMediaType":"application/pdf","description":"This white paper contains guidelines for the ParlayREST API specifications."}]}}